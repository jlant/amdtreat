<Controls:MetroWindow 
    x:Class="AMDTreat.Views.PondsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:local="clr-namespace:AMDTreat.Views"
    xmlns:models="clr-namespace:AMDTreat.Models"
    xmlns:converters="clr-namespace:AMDTreat.Converters"
    xmlns:Dialog="clr-namespace:MahApps.Metro.Controls.Dialogs;assembly=MahApps.Metro"
    Dialog:DialogParticipation.Register="{Binding}"
    mc:Ignorable="d"
    WindowStartupLocation="CenterScreen"
    ResizeMode="CanResizeWithGrip"
    Title="" 
    TextOptions.TextFormattingMode="Display"
    Width="{Binding Source={x:Static SystemParameters.PrimaryScreenWidth}, Converter={converters:ScreenResolutionRatioConverter}, ConverterParameter='0.9' }"
    Height="{Binding Source={x:Static SystemParameters.PrimaryScreenHeight}, Converter={converters:ScreenResolutionRatioConverter}, ConverterParameter='0.9' }"
    MinWidth="1024"
    MinHeight="768"
    BorderBrush="{DynamicResource AccentColorBrush}"
    BorderThickness="1">

    <Controls:MetroWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/AMDTreat;component/Styles/TreatmentModuleGeneralStyles.xaml" />
                <ResourceDictionary Source="/AMDTreat;component/Styles/PondsStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <converters:BoolToBrushBackground x:Key="BoolToBrushBackground" />
            <converters:BoolToBrushBorder x:Key="BoolToBrushBorder" />
            <converters:BoolToBrushSeparater x:Key="BoolToBrushSeparater" />
            <converters:BoolToBrushIcon x:Key="BoolToBrushIcon" />
            <converters:BoolToBrushText x:Key="BoolToBrushText" />
            <converters:BoolToExpanded x:Key="BoolToExpanded" />
            <converters:BoolToVisibility x:Key="BoolToVisibility" />
            <converters:BoolToBrushDataGridForeground x:Key="BoolToBrushDataGridForeground" />

        </ResourceDictionary>
    </Controls:MetroWindow.Resources>

    <Controls:MetroWindow.RightWindowCommands>
        <Controls:WindowCommands>
            <!--<Button ToolTip="Open XML" Content="{iconPacks:Modern PageXml, Width=22, Height=22}" Command="{Binding OpenCommand}" />
            <Button ToolTip="Save XML" Content="{iconPacks:Modern Save, Width=22, Height=22}" Command="{Binding SaveCommand}" />
            <Button ToolTip="Create Report" Content="{iconPacks:Modern PageFilePdf, Width=22, Height=22}" Command="{Binding ShowMessageDialogCommandTbd}" />-->
        </Controls:WindowCommands>
    </Controls:MetroWindow.RightWindowCommands>

    <Controls:MetroWindow.LeftWindowCommands>
        <Controls:WindowCommands>
            <ToggleButton ToolTip="Module Information" IsChecked="{Binding ElementName=flyoutModuleInformation, Path=IsOpen}">
                <StackPanel Orientation="Horizontal">
                    <iconPacks:PackIconModern Kind="BoxLayered" Width="22" Height="22" VerticalAlignment="Center" HorizontalAlignment="Center" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="{Binding Path=ModuleType}" Margin="5,0,0,0" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="{Binding Path=ModuleName, StringFormat={} {0:S}}" Margin="5,0,0,0" FontWeight="Bold" FontStyle="Italic" />
                </StackPanel>
            </ToggleButton>
            <ToggleButton ToolTip="Water Quality Information" IsChecked="{Binding ElementName=flyoutWaterQuality, Path=IsOpen}">
                <StackPanel Orientation="Horizontal">
                    <iconPacks:PackIconModern Kind="WaterDropletAlert" Width="24" Height="22" VerticalAlignment="Center" HorizontalAlignment="Center" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Water Quality" Margin="5,0,0,0" />
                </StackPanel>
            </ToggleButton>

            <ToggleButton ToolTip="Error Information" IsChecked="{Binding ElementName=flyoutErrorInformation, Path=IsOpen}" >
                <StackPanel Orientation="Horizontal">
                    <iconPacks:PackIconModern Kind="WarningCircle" Width="24" Height="22" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="{Binding IsError, Converter={StaticResource BoolToBrushIcon}}" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Errors" Margin="5,0,0,0" />
                </StackPanel>
            </ToggleButton>

            <Button ToolTip="Sync with Main User Interface" Command="{Binding SyncCommand}">
                <StackPanel Orientation="Horizontal">
                    <iconPacks:PackIconMaterial Kind="Sync" Width="24" Height="22" VerticalAlignment="Center" HorizontalAlignment="Center" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Sync" Margin="5,0,0,0" />
                </StackPanel>
            </Button>
        </Controls:WindowCommands>
    </Controls:MetroWindow.LeftWindowCommands>

    <Controls:MetroWindow.Flyouts>
        <Controls:FlyoutsControl>
            <Controls:Flyout x:Name="flyoutModuleInformation" Header="Module Information" Position="Left" Width="350" IsOpen="False" Theme="Dark">
                <StackPanel Orientation="Vertical">

                    <Button Style="{StaticResource MyButtonModuleInformation}" ToolTip="Open Module" Command="{Binding OpenCommand}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Kind="PageXml" Style="{StaticResource MyIconPackModernAmdtreatInformationButton}"/>
                            <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Open" />
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource MyButtonModuleInformation}" ToolTip="Save Module" Command="{Binding SaveCommand}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Kind="Save" Style="{StaticResource MyIconPackModernAmdtreatInformationButton}" />
                            <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Save" />
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource MyButtonModuleInformation}" ToolTip="Create Module Report" Command="{Binding ShowMessageDialogCommandTbd}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Kind="PagePdf" Style="{StaticResource MyIconPackModernAmdtreatInformationButton}" />
                            <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Report" />
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource MyButtonModuleInformation}" ToolTip="About Module" Command="{Binding ShowMessageDialogCommandAbout}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Kind="InformationCircle" Style="{StaticResource MyIconPackModernAmdtreatInformationButton}" />
                            <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="About" />
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource MyButtonModuleInformation}" ToolTip="Open Help" Command="{Binding HelpCommand}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Kind="Question" Style="{StaticResource MyIconPackModernAmdtreatInformationButton}" />
                            <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Help" />
                        </StackPanel>
                    </Button>

                    <Separator Style="{StaticResource MySeparatorFlyout}" />

                    <TextBlock Style="{StaticResource MyTextBlockHeaderFlyout}" Text="Module Name" />
                    <TextBox Margin="10,2,10,10" TextWrapping="Wrap" Text="{Binding Path=ModuleName, Mode=TwoWay}" KeyUp="TextBox_KeyEnterUpdate" FontSize="14" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderFlyout}"  Text="Notes" />
                    <RichTextBox Margin="10,2,10,10" Controls:TextBoxHelper.Watermark="Enter your notes" Height="200" FontSize="14" 
                                 SpellCheck.IsEnabled="True" VerticalScrollBarVisibility="Auto" />
                </StackPanel>
            </Controls:Flyout>

            <Controls:Flyout x:Name="flyoutWaterQuality" Header="Input Water Quality" Position="Left" Width="350" IsOpen="False" Theme="Dark">
                <StackPanel Orientation="Vertical">
                    <Grid Margin="10,0,0,0" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.5*"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Button Grid.Row="0" Grid.Column="1" Style="{DynamicResource MetroCircleButtonStyle}" ToolTip="About Water Quality" 
                                Content="{iconPacks:Modern InformationCircle, Width=20, Height=20}"  
                                Command="{Binding ShowMessageDialogCommandWaterQuality}" 
                                Opacity="0.6" BorderThickness="1" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="10,5" />

                        <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelDesignFlowName}" Content="Design Flow" />
                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownDesignFlow}" Minimum="1" Maximum="1000000" Interval="1"
                                                    Value="{Binding DesignFlow, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                    ToolTip="min = 1, max = 1,000,000"/>
                            <Label Style="{StaticResource MyLabelDesignFlowUnits}" Content="gpm" />
                        </StackPanel>

                        <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Typical Flow" />
                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1" 
                                                    Value="{Binding TypicalFlow, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="gpm" />
                        </StackPanel>


                        <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Ferrous Iron" />
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="1" Maximum="10000" Interval="1" 
                                                    Value="{Binding FerrousIron, Mode=TwoWay}"
                                                    ToolTip="min = 1, max = 10,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                        </StackPanel>

                        <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Ferric Iron" />
                        <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="1" Maximum="10000" Interval="1" 
                                                    Value="{Binding FerricIron, Mode=TwoWay}"
                                                    ToolTip="min = 1, max = 10,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                        </StackPanel>

                        <Label Grid.Row="5" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Aluminum" />
                        <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="1" Maximum="10000" Interval="1" 
                                                    Value="{Binding Aluminum, Mode=TwoWay}"
                                                    ToolTip="min = 1, max = 10,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                        </StackPanel>

                        <Label Grid.Row="6" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Manganese" />
                        <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="1" Maximum="10000" Interval="1" 
                                                    Value="{Binding Manganese, Mode=TwoWay}"
                                                    ToolTip="min = 1, max = 10,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                        </StackPanel>
                        
                    </Grid>
                </StackPanel>
            </Controls:Flyout>

            <Controls:Flyout x:Name="flyoutErrorInformation" Header="Error Information" Position="Left" Width="350" IsOpen="{Binding IsOpenFlyoutError}" Theme="Dark">
                <StackPanel Orientation="Vertical">
                    <Grid Margin="10,0,0,0" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Maximum Pond Depth" />
                        <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcMaxPondDepth, Mode=Twoway, StringFormat=F2}" />
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="ft" />
                        </StackPanel>

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Current Pond Depth" />
                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcPondDepth, Mode=Twoway, StringFormat=F2}" />
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="ft" />
                        </StackPanel>

                        <Separator Grid.Row="2" Style="{StaticResource MySeparatorFlyout}" />
                        <TextBlock Grid.Row="3" Grid.ColumnSpan="2" Style="{StaticResource MyTextBlockHeader}" Text="{Binding ErrorMessageShort}" TextWrapping="Wrap"/>
                        <TextBlock Name="ErrorMessageTextBlock" Grid.Row="4" Grid.ColumnSpan="2" Style="{StaticResource MyTextBlockPropertyName}" Text="{Binding Path=ErrorMessage, Mode=TwoWay}" TextWrapping="Wrap"/>

                    </Grid>
                </StackPanel>
            </Controls:Flyout>

        </Controls:FlyoutsControl>
    </Controls:MetroWindow.Flyouts>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition></ColumnDefinition>
            <ColumnDefinition></ColumnDefinition>
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition></RowDefinition>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Column="0" MinHeight="700" CanContentScroll="False">
            <StackPanel Grid.Column="0" Margin="10">

                <!-- Sizing Methods -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="DimensionArrowBoxHeight" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Pond Design" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Pond Design" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandSizingMethods}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <!-- Note: added a Margin to the Grid to match the ScrollViewer style for each section -->
                <ScrollViewer HorizontalScrollBarVisibility="Auto" >
                    <Grid Margin="0,0,0,10"  >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition ></ColumnDefinition>
                            <ColumnDefinition ></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                        </Grid.Resources>
                  
                        <RadioButton x:Name="radioButtonOxidationSettlingSludge" Grid.Row="0" Grid.Column="0" Margin="5" FontSize="14" GroupName="SizingMethods" Content="Oxidation/Settling/Sludge" 
                                 IsChecked="{Binding SizingMethodsOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionOxidationSettlingSludge}" />
                        <RadioButton x:Name="radioButtonDimensions" Grid.Row="1" Grid.Column="0" Margin="5" FontSize="14" GroupName="SizingMethods" Content="User-Specified Dimensions" 
                                 IsChecked="{Binding SizingMethodsOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionDimensions}" />

                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Label Style="{StaticResource MyLabelDimensionsName}" Content="Freeboard Top Length" />
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownDimensions}" Minimum="{Binding FreeboardTopWidthDimensions}" Maximum="2000" Interval="1"
                                                Value="{Binding FreeboardTopLengthDimensions, Mode=TwoWay, StringFormat=F2}"
                                                ToolTip="min = Width, max = 2,000"/>
                            <Label Style="{StaticResource MyLabelDimensionsUnits}" Content="feet" />
                        </StackPanel>

                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Label Style="{StaticResource MyLabelDimensionsName}" Content="Freeboard Top Width" />
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownDimensions}" Minimum="10" Maximum="2000" Interval="1"
                                                Value="{Binding FreeboardTopWidthDimensions, Mode=TwoWay, StringFormat=F2}"
                                                ToolTip="min = 10, max = 2,000"/>
                            <Label Style="{StaticResource MyLabelDimensionsUnits}" Content="feet" />
                        </StackPanel>

                    </Grid>
                </ScrollViewer>


                <!-- System Properties -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="Settings" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="System Properties" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About System Properties" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandSystemProperties}" />
                    <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" Height="100" HorizontalScrollBarVisibility="Auto">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pond Inside Slope" />
                        <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0.5" Maximum="5" Interval="0.25"
                                                    Value="{Binding PondInsideSlope, Mode=TwoWay, StringFormat=F2}" 
                                                    ToolTip="min = 0.5, max = 5"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="h:v" />
                        </StackPanel>

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Settling/Retention Layer Bottom Length to Width Ratio" Width="400" />
                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="1" Maximum="10" Interval="0.5"
                                                    Value="{Binding BottomLengthToWidthRatio, Mode=TwoWay, StringFormat=F2}" 
                                                    ToolTip="min = 0.5, max = 5"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="unitless" />
                        </StackPanel>

                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Excavation Unit Cost" />
                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0.5" Maximum="100" Interval="0.5" StringFormat="C2" 
                                                    Value="{Binding ExcavationUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0.5, max = 100"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}">
                                <Run Typography.Variants="Superscript">$/yd&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                    </Grid>
                </ScrollViewer>

                <!-- Pond Layers -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="FilterVariant" Style="{StaticResource MyIconPackMaterialHeaders}"/>
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Pond Layers" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Pond Layers" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandLayerMaterials}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <!-- Note: added a Margin to the StackPanel to match the ScrollViewer style for each section -->
                <StackPanel Margin="0,0,0,10">

                    <Expander Style="{StaticResource MyExpanderFreeboard}" IsExpanded="{Binding IsExpandedFreeboard, Mode=TwoWay}" >
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="40" >
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <Label Grid.Row="0" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Depth" />
                                <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0.1" Maximum="10" Interval="0.5"
                                                            Value="{Binding FreeboardDepth, Mode=TwoWay, StringFormat=F2}"
                                                            ToolTip="min = 0.1, max = 100"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                    <Label Style="{StaticResource MyLabelPropertyUnits}" Content="feet" />
                                </StackPanel>

                            </Grid>

                        </ScrollViewer>

                    </Expander>

                    <Expander Style="{StaticResource MyExpanderOxidation}" IsExpanded="{Binding IsExpandedOxidation, Mode=TwoWay}">
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="110">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <CheckBox x:Name="checkBoxOxidation" Grid.Row="0" Grid.Column="0" Margin="5" FontSize="14" Content="Oxidation"
                                          IsChecked="{Binding IsOxidation, Mode=TwoWay}"/>
                                <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                                <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelOxidationDepthName}" Content="Depth" Margin="50,2,2,2"/>
                                <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownOxidationDepth}" Minimum="0.1" Maximum="10" Interval="0.25" 
                                                            Value="{Binding OxidationDepth, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0.1, max = 100"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                    <Label Style="{StaticResource MyLabelOxidationDepthUnits}" Content="feet" />
                                </StackPanel>

                            </Grid>

                        </ScrollViewer>
                    </Expander>

                    <Expander Style="{StaticResource MyExpanderSettling}" IsExpanded="{Binding IsExpandedSettling, Mode=TwoWay}">
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="100">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MyTextBlockHeaderLight}" Text="Dimensions / Properties" />
                                <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorShort}" />

                                <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Depth" />
                                <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0.1" Maximum="10" Interval="0.25" 
                                                            Value="{Binding SettlingDepth, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0.1, max = 100"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                    <Label  Style="{StaticResource MyLabelPropertyUnits}" Content="feet" />
                                </StackPanel>

                                <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource MyLabelSettlingRetentionTimeName}" Content="Retention Time" />
                                <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSettlingRetentionTime}" Minimum="0.1" Maximum="10000" Interval="1" 
                                                            Value="{Binding SettlingRetentionTime, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0.1, max = 10,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                    <Label Style="{StaticResource MyLabelSettlingRetentionTimeUnits}" Content="hours" />
                                </StackPanel>

                            </Grid>

                        </ScrollViewer>
                    </Expander>

                    <Expander Style="{StaticResource MyExpanderSludge}" IsExpanded="{Binding IsExpandedSludge, Mode=TwoWay}">
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="80">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <CheckBox x:Name="checkBoxSludge" Grid.Row="0" Grid.Column="0" Margin="5" FontSize="14" Content="Sludge Capacity"
                                          IsChecked="{Binding IsSludge, Mode=TwoWay}"/>
                                <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                                <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelSludgeDepthName}" Content="Depth" Margin="50,2,2,2"/>
                                <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDepth}" Minimum="0.1" Maximum="10" Interval="0.25" 
                                                            Value="{Binding SludgeDepth, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0.1, max = 1000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                    <Label Style="{StaticResource MyLabelSludgeDepthUnits}" Content="feet" />
                                </StackPanel>

                            </Grid>

                        </ScrollViewer>
                    </Expander>

                    <Expander Style="{StaticResource MyExpanderLiner}">
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="265">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <Grid.Resources>
                                    <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                                </Grid.Resources>
                                <RadioButton x:Name="radioButtonNoLiner" Grid.Row="0" Grid.Column="0" Margin="5" FontSize="14" GroupName="Liners" Content="No Liner"  
                                 IsChecked="{Binding LinerOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionNoLiner}" />
                                <RadioButton x:Name="radioButtonClayLiner" Grid.Row="1" Grid.Column="0" Margin="5" FontSize="14" GroupName="Liners" Content="Clay"  
                                 IsChecked="{Binding LinerOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionClayLiner}" />
                                <RadioButton x:Name="radioButtonSyntheticLiner" Grid.Row="3" Grid.Column="0" Margin="5" FontSize="14" GroupName="Liners" Content="Synthetic" 
                                 IsChecked="{Binding LinerOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionSyntheticLiner}" />
                                <RadioButton x:Name="radioButtonGeosyntheticClayLiner" Grid.Row="4" Grid.Column="0" Margin="5" FontSize="14" GroupName="Liners" Content="Geosynthetic Clay"
                                 IsChecked="{Binding LinerOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionGeosyntheticClayLiner}" />

                                <CheckBox x:Name="checkBoxNonWovenGeotextile" Grid.Row="7" Grid.Column="0" Margin="5" FontSize="14" Content="Non-woven Geotextile"
                                          IsChecked="{Binding NonWovenGeotextileOption, Mode=TwoWay}"/>

                                <Label Grid.Row="0" Grid.Column="1" Style="{StaticResource MyLabelNoLinerName}" Content="" />

                                <!--<Label Grid.Row="1" Grid.Column="1" Style="{StaticResource MyLabelClayLinerName}" Content="Unit Cost" />-->
                                <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelClayLinerName}" Content="Unit Cost" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownClayLiner}" Minimum="0" Maximum="20" Interval="1" StringFormat="C2" 
                                                            Value="{Binding ClayLinerUnitCost, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 20"/>
                                    <Label Style="{StaticResource MyLabelClayLinerUnits}">
                                        <Run Typography.Variants="Superscript" Text="$/yd³"/>
                                    </Label>
                                </StackPanel>

                                <!--<Label Grid.Row="2" Grid.Column="1" Style="{StaticResource MyLabelClayLinerName}" Content="Thickness" />-->
                                <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelClayLinerName}" Content="Thickness" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownClayLiner}" Minimum="0.25" Maximum="5" Interval="0.5" StringFormat="F2"
                                                            Value="{Binding ClayLinerThickness, Mode=TwoWay}"
                                                            ToolTip="min = 0.25, max = 5"/>
                                    <Label Style="{StaticResource MyLabelClayLinerUnits}" Content="feet" />
                                </StackPanel>

                                <!--<Label Grid.Row="3" Grid.Column="1" Style="{StaticResource MyLabelSyntheticLinerUnitCostName}" Content="Unit Cost" />-->
                                <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelSyntheticLinerUnitCostName}" Content="Unit Cost" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSyntheticLiner}" Minimum="0" Maximum="30" Interval="1" StringFormat="C2"
                                                            Value="{Binding SyntheticLinerUnitCost, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 30"/>
                                    <Label Style="{StaticResource MyLabelSyntheticLinerUnitCostUnits}">
                                        <Run Typography.Variants="Superscript">$/yd&#x00B2;</Run>
                                    </Label>
                                </StackPanel>

                                <!--<Label Grid.Row="4" Grid.Column="1" Style="{StaticResource MyLabelGeosyntheticClayLinerName}" Content="Unit Cost" />-->
                                <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelGeosyntheticClayLinerName}" Content="Unit Cost" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownGeosyntheticClayLiner}" Minimum="0" Maximum="30" Interval="1" StringFormat="C2"
                                                            Value="{Binding GeosyntheticClayLinerUnitCost, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 30"/>
                                    <Label Style="{StaticResource MyLabelGeosyntheticClayLinerUnits}">
                                        <Run Typography.Variants="Superscript">$/yd&#x00B2;</Run>
                                    </Label>
                                </StackPanel>

                                <!--<Label Grid.Row="5" Grid.Column="1" Style="{StaticResource MyLabelGeosyntheticClayLinerName}" Content="Soil Cover Unit Cost" />-->
                                <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelGeosyntheticClayLinerName}" Content="Soil Cover Unit Cost" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownGeosyntheticClayLiner}" Minimum="0" Maximum="30" Interval="1" StringFormat="C2"
                                                            Value="{Binding GeosyntheticClayLinerCoverUnitCost, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 30"/>
                                    <Label Style="{StaticResource MyLabelGeosyntheticClayLinerUnits}">
                                        <Run Typography.Variants="Superscript">$/yd&#x00B3;</Run>
                                    </Label>
                                </StackPanel>

                                <!--<Label Grid.Row="6" Grid.Column="1" Style="{StaticResource MyLabelGeosyntheticClayLinerName}" Content="Soil Cover" />-->
                                <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelGeosyntheticClayLinerName}" Content="Soil Cover Thickness" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownGeosyntheticClayLiner}" Minimum="0.25" Maximum="5" Interval="0.5" StringFormat="F2"
                                                            Value="{Binding GeosyntheticClayLinerSoilCover, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 30"/>
                                    <Label Style="{StaticResource MyLabelGeosyntheticClayLinerUnits}" Content="feet" />
                                </StackPanel>

                                <!--<Label Grid.Row="7" Grid.Column="1" Style="{StaticResource MyLabelNonWovenGeotextileName}" Content="Unit Cost" />-->
                                <StackPanel Grid.Row="7" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelNonWovenGeotextileName}" Content="Unit Cost" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownNonWovenGeotextile}" Minimum="0" Maximum="30" Interval="1" StringFormat="C2"
                                                            Value="{Binding NonWovenGeotextileUnitCost, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 30"/>
                                    <Label Style="{StaticResource MyLabelNonWovenGeotextileUnits}">
                                        <Run Typography.Variants="Superscript">$/yd&#x00B2;</Run>
                                    </Label>
                                </StackPanel>

                            </Grid>

                        </ScrollViewer>
                    </Expander>

                </StackPanel>

                <!-- Other Items -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="AppPlus" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Hydraulic Structures" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Hydraulic Structures" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandOtherItems}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorHeader}" />
                </Grid>

                <StackPanel Margin="0,0,0,10">

                    <Expander Style="{StaticResource MyExpanderPipe}">
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="280" >
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <Grid.Resources>
                                    <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                                </Grid.Resources>

                                <CheckBox x:Name="checkBoxAmdtreatPipe" Grid.Row="0" Grid.Column="0" Margin="5" FontSize="14" Content="AMDTreat Piping Calculator"
                                          IsChecked="{Binding PipeOptionAmdtreat, Mode=TwoWay}"/>
                                <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                                <TextBlock Grid.Row="1" Grid.ColumnSpan="2" Style="{StaticResource MyTextBlockHeaderLight}" Text="Dimensions / Properties"></TextBlock>
                                <Separator Grid.Row="1" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorShort}"></Separator>

                                <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource MyLabelPipeAmdtreatName}" Content="Influent/Effluent Pipe Length" />
                                <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAmdtreatPipe}" Minimum="0" Maximum="1000" Interval="1" 
                                                            Value="{Binding InOutPipeLength, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 1,000"/>
                                    <Label Style="{StaticResource MyLabelPipeAmdtreatUnits}" Content="feet" />
                                </StackPanel>

                                <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelPipeAmdtreatName}" Content="Influent/Effluent Pipe Install Rate" />
                                <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAmdtreatPipe}" Minimum="20" Maximum="100" Interval="1" 
                                                            Value="{Binding InOutPipeInstallRate, Mode=TwoWay}"
                                                            ToolTip="min = 20, max = 100"/>
                                    <Label Style="{StaticResource MyLabelPipeAmdtreatUnits}" Content="ft/hr" />
                                </StackPanel>

                                <TextBlock Grid.Row="8" Grid.ColumnSpan="2" Style="{StaticResource MyTextBlockHeaderLight}" Text="Costs"></TextBlock>
                                <Separator Grid.Row="8" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorShort}"></Separator>

                                <Label Grid.Row="9" Grid.Column="0" Style="{StaticResource MyLabelPipeAmdtreatName}" Content="Labor Rate" />
                                <StackPanel Grid.Row="9" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAmdtreatPipe}" Minimum="0" Maximum="100" Interval="1" StringFormat="C2" 
                                                            Value="{Binding LaborRate, Mode=TwoWay}" 
                                                            ToolTip="min = 0, max = 100"/>
                                    <Label  Style="{StaticResource  MyLabelPipeAmdtreatUnits}" Content="$/hr" />
                                </StackPanel>

                                <Label Grid.Row="10" Grid.Column="0" Style="{StaticResource MyLabelPipeAmdtreatName}" Content="Influent/Effluent Pipe Unit Cost" />
                                <StackPanel Grid.Row="10" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAmdtreatPipe}" Minimum="0" Maximum="500" Interval="1" StringFormat="C2" 
                                                            Value="{Binding InOutPipeUnitCost, Mode=TwoWay}" 
                                                            ToolTip="min = 0, max = 500"/>
                                    <Label  Style="{StaticResource  MyLabelPipeAmdtreatUnits}" Content="$/ft" />
                                </StackPanel>

                                <TextBlock Grid.Row="15" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="" />

                                <CheckBox x:Name="checkBoxCustomPipe" Grid.Row="16" Grid.Column="0" Margin="5" FontSize="14" Content="User-Specified Piping Layout"
                                          IsChecked="{Binding PipeOptionCustom, Mode=TwoWay}"/>
                                <Separator Grid.Row="16" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                                <TextBox Grid.Row="17" Grid.Column="0" Text="{Binding CustomPipeName1, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a custom pipe name" Width="180" Height="25" MinWidth="180" MinHeight="25" MaxWidth="200" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                                <Label Grid.Row="18" Grid.Column="0" Style="{StaticResource MyLabelPipeCustomName}" Content="Length" />
                                <StackPanel Grid.Row="18" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownCustomPipe}" Minimum="0" Maximum="20000" Interval="1"
                                                            Value="{Binding CustomPipeLength1, Mode=TwoWay}" 
                                                            ToolTip="min = 0, max = 20,000"/>
                                    <Label  Style="{StaticResource  MyLabelPipeCustomUnits}" Content="feet" />
                                </StackPanel>

                                <Label Grid.Row="19" Grid.Column="0" Style="{StaticResource MyLabelPipeCustomName}" Content="Unit Cost" />
                                <StackPanel Grid.Row="19" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownCustomPipe}" Minimum="0" Maximum="500" Interval="1" StringFormat="C2" 
                                                            Value="{Binding CustomPipeUnitCost1, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 500"/>
                                    <Label  Style="{StaticResource  MyLabelPipeCustomUnits}" Content="$/ft" />
                                </StackPanel>

                                <TextBox Grid.Row="20" Grid.Column="0" Text="{Binding CustomPipeName2, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a custom pipe name" Width="180" Height="25" MinWidth="180" MinHeight="25" MaxWidth="200" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                                <Label Grid.Row="21" Grid.Column="0" Style="{StaticResource MyLabelPipeCustomName}" Content="Length" />
                                <StackPanel Grid.Row="21" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownCustomPipe}" Minimum="0" Maximum="20000" Interval="1"
                                                            Value="{Binding CustomPipeLength2, Mode=TwoWay}" 
                                                            ToolTip="min = 0, max = 20,000"/>
                                    <Label  Style="{StaticResource  MyLabelPipeCustomUnits}" Content="feet" />
                                </StackPanel>

                                <Label Grid.Row="22" Grid.Column="0" Style="{StaticResource MyLabelPipeCustomName}" Content="Unit Cost" />
                                <StackPanel Grid.Row="22" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownCustomPipe}" Minimum="0" Maximum="500" Interval="1" StringFormat="C2" 
                                                            Value="{Binding CustomPipeUnitCost2, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 500"/>
                                    <Label  Style="{StaticResource  MyLabelPipeCustomUnits}" Content="$/ft" />
                                </StackPanel>

                                <TextBox Grid.Row="23" Grid.Column="0" Text="{Binding CustomPipeName3, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a custom pipe name" Width="180" Height="25" MinWidth="180" MinHeight="25" MaxWidth="200" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                                <Label Grid.Row="24" Grid.Column="0" Style="{StaticResource MyLabelPipeCustomName}" Content="Length" />
                                <StackPanel Grid.Row="24" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownCustomPipe}" Minimum="0" Maximum="20000" Interval="1" 
                                                            Value="{Binding CustomPipeLength3, Mode=TwoWay}" 
                                                            ToolTip="min = 0, max = 20,000"/>
                                    <Label  Style="{StaticResource  MyLabelPipeCustomUnits}" Content="feet" />
                                </StackPanel>

                                <Label Grid.Row="25" Grid.Column="0" Style="{StaticResource MyLabelPipeCustomName}" Content="Unit Cost" />
                                <StackPanel Grid.Row="25" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownCustomPipe}" Minimum="0" Maximum="500" Interval="1" StringFormat="C2" 
                                                            Value="{Binding CustomPipeUnitCost3, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 500"/>
                                    <Label  Style="{StaticResource  MyLabelPipeCustomUnits}" Content="$/ft" />
                                </StackPanel>

                            </Grid>

                        </ScrollViewer>
                    </Expander>

                    <Expander Style="{StaticResource MyExpanderBaffle}" IsExpanded="{Binding IsExpandedBaffle, Mode=TwoWay}">
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="160">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <Grid.Resources>
                                    <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                                </Grid.Resources>

                                <CheckBox x:Name="checkBoxBaffle" Grid.Row="0" Grid.Column="0" Margin="5" FontSize="14" Content="Floating Baffle"
                                          IsChecked="{Binding IsBaffle, Mode=TwoWay}"/>
                                <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                                <RadioButton x:Name="radioButtonBaffleEstimate" Grid.Row="1" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="BaffleLength" Content="Estimate Length" 
                                             IsChecked="{Binding BaffleOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionEstimate}" 
                                             IsEnabled="{Binding IsBaffle, Mode=TwoWay}"/>

                                <RadioButton x:Name="radioButtonBaffleUserSpecified" Grid.Row="2" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="BaffleLength" Content="User Specified Length" 
                                             IsChecked="{Binding BaffleOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionUserSpecified}" 
                                             IsEnabled="{Binding IsBaffle, Mode=TwoWay}"/>

                                <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownBaffleUserSpecifiedLength}" Minimum="0" Maximum="500" Interval="1"
                                                            Value="{Binding BaffleLengthUserSpecified, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 500"/>
                                    <Label Style="{StaticResource MyLabelBaffleUserSpecifiedLengthUnits}" Content="ft/baffle" />
                                </StackPanel>

                                <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelBaffleEstimateLengthName}" Content="Baffle Quantity per Pond" Margin="50,2,2,2"/>
                                <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownBaffleEstimateLength}" Minimum="0" Maximum="10" Interval="1"
                                                            Value="{Binding BaffleQuantity, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 10"/>
                                    <Label Style="{StaticResource MyLabelBaffleEstimateLengthUnits}" Content="each" />
                                </StackPanel>

                                <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource MyLabelBaffleUnitCostName}" Content="Unit Cost" Margin="50,2,2,2"/>
                                <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownBaffleUnitCost}" Minimum="0" Maximum="100" Interval="1" 
                                                            Value="{Binding BaffleUnitCost, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 100"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                    <Label Style="{StaticResource MyLabelBaffleUnitCostUnits}" Content="$/ft" />
                                </StackPanel>

                            </Grid>

                        </ScrollViewer>
                    </Expander>

                    <Expander Style="{StaticResource MyExpanderAppurtenances}" IsExpanded="{Binding IsExpandedAppurtenances, Mode=TwoWay}">
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="230">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pump Quantity" />
                                <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="10" Interval="1" 
                                                    Value="{Binding PumpQuantity, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 10"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                                </StackPanel>

                                <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pump Unit Cost" />
                                <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="30000" Interval="100" StringFormat="C2" 
                                                    Value="{Binding PumpUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 30,000"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                                </StackPanel>

                                <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Valves Quantity" />
                                <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding ValveQuantity, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                                </StackPanel>

                                <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Valves Unit Cost" />
                                <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="10000" Interval="500" StringFormat="C2" 
                                                    Value="{Binding ValveUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 10,000"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                                </StackPanel>

                                <TextBlock Grid.Row="4" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Intake Structure Quantity" />
                                <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="20" Interval="1"
                                                    Value="{Binding IntakeStructureQuantity, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 20"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                                </StackPanel>

                                <TextBlock Grid.Row="5" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Intake Structure Unit Cost" />
                                <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50000" Interval="500" StringFormat="C2" 
                                                    Value="{Binding IntakeStructureUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50,000"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                                </StackPanel>

                                <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Flow Distribution Structure Quantity" />
                                <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="20" Interval="1"
                                                    Value="{Binding FlowDistributionStructureQuantity, Mode=TwoWay}" 
                                                    ToolTip="min = 0, max = 20"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                                </StackPanel>

                                <TextBlock Grid.Row="7" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Flow Distribution Structure Unit Cost" />
                                <StackPanel Grid.Row="7" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="20000" Interval="500" StringFormat="C2" 
                                                    Value="{Binding FlowDistributionStructureUnitCost, Mode=TwoWay}" 
                                                    ToolTip="min = 0, max = 20,000"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                                </StackPanel>

                                <TextBlock Grid.Row="8" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Water Level Control Structure Quantity" />
                                <StackPanel Grid.Row="8" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="20" Interval="1" 
                                                    Value="{Binding WaterLevelControlStructureQuantity, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 20"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                                </StackPanel>

                                <TextBlock Grid.Row="9" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Water Level Control Structure Unit Cost" />
                                <StackPanel Grid.Row="9" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="25000" Interval="500" StringFormat="C2" 
                                                    Value="{Binding WaterLevelControlStructureUnitCost, Mode=TwoWay}" 
                                                    ToolTip="min = 0, max = 25,000"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                                </StackPanel>

                                <TextBlock Grid.Row="10" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Outlet Protection Structure Quantity" />
                                <StackPanel Grid.Row="10" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="20" Interval="1"
                                                    Value="{Binding OutletProtectionStructureQuantity, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 20"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                                </StackPanel>

                                <TextBlock Grid.Row="11" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Outlet Protection Structure Unit Cost" />
                                <StackPanel Grid.Row="11" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="20000" Interval="500" StringFormat="C2" 
                                                    Value="{Binding OutletProtectionStructureUnitCost, Mode=TwoWay}" 
                                                    ToolTip="min = 0, max = 20,000"/>
                                    <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                                </StackPanel>

                            </Grid>
                        </ScrollViewer>
                    </Expander>

                </StackPanel>
                
                <!-- Other Capital Items -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="AppPlus" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Other Capital Items" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Other Capital Items" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandOtherItemsCapital}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorHeader}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" HorizontalScrollBarVisibility="Auto" Height="200">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Description" />
                        <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding OtherAnnualItemDescription1, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Quantity" />
                        <StackPanel Grid.Row="1" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherCapitalItemQuantity1, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Unit Cost" />
                        <StackPanel Grid.Row="2" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherCapitalItemUnitCost1, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Description" />
                        <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding OtherCapitalItemDescription2, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="4" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Quantity" />
                        <StackPanel Grid.Row="4" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherCapitalItemQuantity2, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="5" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Unit Cost" />
                        <StackPanel Grid.Row="5" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherCapitalItemUnitCost2, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Description" />
                        <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding OtherCapitalItemDescription3, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="7" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Quantity" />
                        <StackPanel Grid.Row="7" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherCapitalItemQuantity3, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="8" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Unit Cost" />
                        <StackPanel Grid.Row="8" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherCapitalItemUnitCost3, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="9" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Description" />
                        <TextBox Grid.Row="9" Grid.Column="1" Text="{Binding OtherCapitalItemDescription4, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="10" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Quantity" />
                        <StackPanel Grid.Row="10" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherCapitalItemQuantity4, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="11" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Unit Cost" />
                        <StackPanel Grid.Row="11" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherCapitalItemUnitCost4, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="12" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Description" />
                        <TextBox Grid.Row="12" Grid.Column="1" Text="{Binding OtherCapitalItemDescription5, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="13" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Quantity" />
                        <StackPanel Grid.Row="13" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherCapitalItemQuantity5, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="14" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Unit Cost" />
                        <StackPanel Grid.Row="14" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherCapitalItemUnitCost5, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                    </Grid>
                </ScrollViewer>

                <!-- Annual Cost Input -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="AppPlus" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Annual Cost Input" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Annual Cost Input" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandSludgeGenerationHandlingDisposal}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorHeader}" />
                </Grid>

                <Expander Style="{StaticResource MyExpanderSludgeGeneration}" IsExpanded="{Binding IsExpandedSludgeGeneration, Mode=TwoWay}">
                    <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="170">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>

                            <Label Grid.Row="0" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Calcite as CaCO3" />
                            <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="100000" Interval="0.5" 
                                                            Value="{Binding Calcite, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 100,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                            </StackPanel>

                            <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Miscellaneous Solids" />
                            <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="100000" Interval="0.5" 
                                                            Value="{Binding MiscellaneousSolids, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 100,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                            </StackPanel>

                            <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Miscellaneous Solids Density" />
                            <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="200" Interval="0.5" 
                                                            Value="{Binding MiscellaneousSolidsDensity, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 200"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                            </StackPanel>
                            
                            <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Thickened % Solids" />
                            <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0.5" Maximum="100" Interval="0.5" 
                                                            Value="{Binding PercentSolids, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0.5, max = 100"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelPropertyUnits}" Content="%wt" />
                            </StackPanel>

                            <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Dewatered % Solids" />
                            <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="10" Maximum="70" Interval="1" 
                                                            Value="{Binding PercentDewateredSolids, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min =10, max = 70"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelPropertyUnits}" Content="%wt" />
                            </StackPanel>

                        </Grid>

                    </ScrollViewer>
                </Expander>

                <Expander Style="{StaticResource MyExpanderSludgeHandling}" IsExpanded="{Binding IsExpandedSludgeHandling, Mode=TwoWay}">
                    <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="300">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>

                            <Grid.Resources>
                                <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                            </Grid.Resources>

                            <CheckBox x:Name="checkBoxSludgeMobilizationDemobilization" Grid.Row="0" Grid.Column="0" Margin="5" FontSize="14" Content="Mobilization / Demobilization"
                                          IsChecked="{Binding IsMobilizationDemobilization, Mode=TwoWay}"/>
                            <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                            <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelMobilizationDemobilizationCostName}" Content="Cost" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownMobilizationDemobilizationCost}" Minimum="0" Maximum="10000" Interval="0.5" 
                                                            Value="{Binding MobilizationDemobilizationCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 10,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelMobilizationDemobilizationCostUnits}" Content="$" />
                            </StackPanel>

                            <CheckBox x:Name="checkBoxSludgeHandlingDisposal" Grid.Row="2" Grid.Column="0" Margin="5" FontSize="14" Content="Sludge Handling and Disposal"
                                          IsChecked="{Binding IsSludgeHandlingDisposal, Mode=TwoWay}"/>
                            <Separator Grid.Row="2" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                            <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelSludgeHandlingDisposalUnitCostName}" Content="Unit Cost" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeHandlingDisposalUnitCost}" Minimum="0.01" Maximum="100" Interval="0.5" 
                                                            Value="{Binding SludgeHandlingDisposalUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0.01, max = 100"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeHandlingDisposalUnitCostUnits}" Content="$/gal" />
                            </StackPanel>

                            <CheckBox x:Name="checkBoxSludgeRemovalVacuumTruck" Grid.Row="4" Grid.Column="0" Margin="5" FontSize="14" Content="Sludge Removal by Vacuum Truck"
                                          IsChecked="{Binding IsSludgeRemovalVacuumTruck, Mode=TwoWay}"/>
                            <Separator Grid.Row="4" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                            <Label Grid.Row="5" Grid.Column="0" Style="{StaticResource MyLabelSludgeHandlingVacuumTruckVolumeName}" Content="Vacuum Truck Volume" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeHandlingVacuumTruckVolume}" Minimum="0" Maximum="10000" Interval="10" 
                                                            Value="{Binding SludgeHandlingVacuumTruckVolume, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 10,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeHandlingVacuumTruckVolumeUnits}" Content="gal" />
                            </StackPanel>

                            <Label Grid.Row="6" Grid.Column="0" Style="{StaticResource MyLabelSludgeHandlingVacuumTruckTimeToFillName}" Content="Time to Fill Truck" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeHandlingVacuumTruckTimeToFill}" Minimum="0" Maximum="2" Interval="0.1" 
                                                            Value="{Binding SludgeHandlingVacuumTruckTimeToFill, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 2"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeHandlingVacuumTruckTimeToFillUnits}" Content="hr" />
                            </StackPanel>

                            <Label Grid.Row="7" Grid.Column="0" Style="{StaticResource MyLabelSludgeHandlingVacuumTruckUnitCostName}" Content="Unit Cost" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="7" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeHandlingVacuumTruckUnitCost}" Minimum="0" Maximum="500" Interval="1" 
                                                            Value="{Binding SludgeHandlingVacuumTruckUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeHandlingVacuumTruckUnitCostUnits}" Content="$/hr" />
                            </StackPanel>

                            <CheckBox x:Name="checkBoxSludgeRemovalPumping" Grid.Row="8" Grid.Column="0" Margin="5" FontSize="14" Content="Sludge Removal by Pump"
                                          IsChecked="{Binding IsSludgeRemovalPump, Mode=TwoWay}"/>
                            <Separator Grid.Row="8" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                            <CheckBox x:Name="checkBoxSludgeRemovalPumpingRental" Grid.Row="9" Grid.Column="0"  Margin="50,2,2,2" FontSize="14" Content="Pump Rental"
                                          IsChecked="{Binding IsSludgeRemovalPumpRental, Mode=TwoWay}" IsEnabled="{Binding IsSludgeRemovalPump, Mode=TwoWay}" />
                            
                            <StackPanel Grid.Row="9" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeRemovalPumpRentalCost}" Minimum="0" Maximum="5000" Interval="1" 
                                                            Value="{Binding PumpRentalCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 5,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeRemovalPumpRentalCostUnits}" Content="$/day" />
                            </StackPanel>

                            <Label Grid.Row="10" Grid.Column="0" Style="{StaticResource MyLabelSludgeRemovalPumpRateName}" Content="Pump Rate" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="10" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeRemovalPumpRate}" Minimum="0" Maximum="10000" Interval="1" 
                                                            Value="{Binding PumpRate, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 10,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeRemovalPumpRateUnits}" Content="gpm" />
                            </StackPanel>

                            <RadioButton x:Name="radioButtonPumpElectric" Grid.Row="11" Grid.Column="0" Margin="50,2,2,2" FontSize="14" GroupName="PumpOptions" Content="Electric" 
                                 IsChecked="{Binding PumpOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionElectric}" IsEnabled="{Binding IsSludgeRemovalPump, Mode=TwoWay}" />

                            <Label Grid.Row="12" Grid.Column="0" Style="{StaticResource MyLabelSludgeRemovalElectricPowerRequirementName}" Content="Power Requirement" Margin="100,2,2,2"/>
                            <StackPanel Grid.Row="12" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeRemovalElectricPowerRequirement}" Minimum="0" Maximum="1000" Interval="1" 
                                                            Value="{Binding PowerRequirement, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 1,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeRemovalElectricPowerRequirementUnits}" Content="hp" />
                            </StackPanel>

                            <Label Grid.Row="13" Grid.Column="0" Style="{StaticResource MyLabelSludgeRemovalElectricRateCostName}" Content="Electric Rate Cost" Margin="100,2,2,2"/>
                            <StackPanel Grid.Row="13" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeRemovalElectricRateCost}" Minimum="0" Maximum="10" Interval="0.01" 
                                                            Value="{Binding ElectricRateUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 10"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeRemovalElectricRateCostUnits}" Content="$/kWh" />
                            </StackPanel>

                            <RadioButton x:Name="radioButtonPumpFuel" Grid.Row="14" Grid.Column="0" Margin="50,2,2,2" FontSize="14" GroupName="PumpOptions" Content="Fuel" 
                                 IsChecked="{Binding PumpOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionFuel}" IsEnabled="{Binding IsSludgeRemovalPump, Mode=TwoWay}" />

                            <Label Grid.Row="15" Grid.Column="0" Style="{StaticResource MyLabelSludgeRemovalFuelRateName}" Content="Fuel Rate" Margin="100,2,2,2"/>
                            <StackPanel Grid.Row="15" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeRemovalFuelRate}" Minimum="0" Maximum="100" Interval="0.1" 
                                                            Value="{Binding FuelRate, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 100"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeRemovalFuelRateUnits}" Content="gal/hr" />
                            </StackPanel>

                            <Label Grid.Row="16" Grid.Column="0" Style="{StaticResource MyLabelSludgeRemovalFuelUnitCostName}" Content="Fuel Cost" Margin="100,2,2,2"/>
                            <StackPanel Grid.Row="16" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeRemovalFuelUnitCost}" Minimum="0" Maximum="10" Interval="0.05" 
                                                            Value="{Binding FuelUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 10"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeRemovalFuelUnitCostUnits}" Content="$/gal" />
                            </StackPanel>

                            <Label Grid.Row="17" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Sludge Removal by Dewatering" />
                            <Separator Grid.Row="17" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                            <CheckBox x:Name="checkBoxDewateredSludgeMechanicalExcavation" Grid.Row="18" Grid.Column="0" Margin="50,2,2,2" FontSize="14" Content="Mechanical Excavation Unit Cost"
                                          IsChecked="{Binding IsMechanicalExcavation, Mode=TwoWay}"/>
                            <StackPanel Grid.Row="18" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownDewateredSludgeMechanicalExcavationUnitCost}" Minimum="0" Maximum="50" Interval="0.05" 
                                                            Value="{Binding MechanicalExcavationUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 50"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelDewateredSludgeMechanicalExcavationUnitCostUnits}" >
                                    <Run Typography.Variants="Superscript">$/yd&#x00B3;</Run>
                                </Label>
                            </StackPanel>

                        </Grid>

                    </ScrollViewer>
                </Expander>

                <Expander Style="{StaticResource MyExpanderSludgeDisposal}" IsExpanded="{Binding IsExpandedSludgeDisposal, Mode=TwoWay}">
                    <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="300">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>

                            <Grid.Resources>
                                <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                            </Grid.Resources>

                            <CheckBox x:Name="checkBoxLandfillTippingFee" Grid.Row="0" Grid.Column="0" Margin="5" FontSize="14" Content="Landfill Tipping Fee"
                                          IsChecked="{Binding IsLandfillTippingFee, Mode=TwoWay}"/>
                            <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalLandfillTippingFeeUnitCost}" Minimum="0" Maximum="500" Interval="0.5" 
                                                            Value="{Binding LandfillTippingFeeUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalLandfillTippingFeeUnitCostUnits}" Content="$/ton" />
                            </StackPanel>

                            <RadioButton x:Name="radioButtonDisposalTriaxle" Grid.Row="1" Grid.Column="0" Margin="5" FontSize="14" GroupName="SludgeDisposal" Content="Disposal by Triaxle" 
                                 IsChecked="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionTriaxle}" />

                            <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalTriaxleName}" Content="Truck Volume" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalTriaxle}" Minimum="0" Maximum="10000" Interval="10" 
                                                            Value="{Binding SludgeDisposalTriaxleTruckVolume, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 10,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalTriaxleUnits}" >
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                                </Label>
                            </StackPanel>

                            <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalTriaxleName}" Content="Roundtrip Distance to Disposal Site" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalTriaxle}" Minimum="0" Maximum="500" Interval="0.1" 
                                                            Value="{Binding SludgeDisposalTriaxleRoundtripDistance, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalTriaxleUnits}" Content="mi" />
                            </StackPanel>

                            <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalTriaxleName}" Content="Transportation Cost" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalTriaxle}" Minimum="0" Maximum="20" Interval="0.05" 
                                                            Value="{Binding SludgeDisposalTriaxleTransportationUnitCost, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 20"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalTriaxleUnits}" Content="$/mi" />
                            </StackPanel>

                            <RadioButton x:Name="radioButtonDisposalVacuumTruck" Grid.Row="5" Grid.Column="0" Margin="5" FontSize="14" GroupName="SludgeDisposal" Content="Disposal by Vacuum Truck" 
                                 IsChecked="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionVacuumTruck}" />

                            <Label Grid.Row="6" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalVacuumTruckName}" Content="Vacuum Truck Volume" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalVacuumTruck}" Minimum="0" Maximum="10000" Interval="10" 
                                                            Value="{Binding SludgeDisposalVacuumTruckVolume, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 10,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalVacuumTruckUnits}" Content="gal" />
                            </StackPanel>

                            <Label Grid.Row="7" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalVacuumTruckName}" Content="Hours Per Trip" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="7" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalVacuumTruck}" Minimum="0" Maximum="20" Interval="0.1" 
                                                            Value="{Binding SludgeDisposalVacuumTruckHoursPerTrip, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 20"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalVacuumTruckUnits}" Content="hr" />
                            </StackPanel>

                            <Label Grid.Row="8" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalVacuumTruckName}" Content="Unit Cost" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="8" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalVacuumTruck}" Minimum="0" Maximum="500" Interval="1" 
                                                            Value="{Binding SludgeDisposalVacuumTruckUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalVacuumTruckUnits}" Content="$/hr" />
                            </StackPanel>

                            <RadioButton x:Name="radioButtonDisposalBorehole" Grid.Row="9" Grid.Column="0" Margin="5" FontSize="14" GroupName="SludgeDisposal" Content="Disposal by Borehole" 
                                 IsChecked="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionBorehole}" />

                            <Label Grid.Row="10" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalBoreholeName}" Content="Borehole Depth" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="10" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalBorehole}" Minimum="0" Maximum="2000" Interval="10" 
                                                            Value="{Binding SludgeDisposalBoreholeDepth, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 2,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalBoreholeUnits}" Content="ft" />
                            </StackPanel>

                            <Label Grid.Row="11" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalBoreholeName}" Content="Unit Cost" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="11" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalBorehole}" Minimum="0" Maximum="500" Interval="0.1" 
                                                            Value="{Binding SludgeDisposalBoreholeUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalBoreholeUnits}" Content="$/ft" />
                            </StackPanel>

                            <RadioButton x:Name="radioButtonDisposalGeotubes" Grid.Row="12" Grid.Column="0" Margin="5" FontSize="14" GroupName="SludgeDisposal" Content="Disposal by Geotubes" 
                                 IsChecked="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionGeotube}" />

                            <Label Grid.Row="13" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalGeotubesName}" Content="Geotube Volume" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="13" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:DropDownButton 
                                        VerticalContentAlignment="Center"
                                        Width="150"
                                        Margin="4"
                                        Content="{Binding GeotubeName}"
                                        ItemsSource="{Binding Geotubes}"
                                        Style="{StaticResource MyDropDownButtonSludgeDisposalGeotubes}">
                                    <Controls:DropDownButton.Resources>
                                        <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                    </Controls:DropDownButton.Resources>
                                    <Controls:DropDownButton.ItemContainerStyle>
                                        <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                            <Setter Property="Header" Value="{Binding Name}"/>
                                            <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetGeotubeCommand}"/>
                                            <Setter Property="CommandParameter" Value="{Binding }"/>
                                        </Style>
                                    </Controls:DropDownButton.ItemContainerStyle>
                                </Controls:DropDownButton>
                                <Label Style="{StaticResource MyLabelSludgeDisposalGeotubesUnits}" >
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                                </Label>
                            </StackPanel>

                            <Label Grid.Row="14" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalGeotubesName}" Content="Unit Cost" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="14" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="10000" Interval="1" IsEnabled="False"
                                                            Value="{Binding GeotubeUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 10000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalGeotubesUnits}" Content="$/tube" />
                            </StackPanel>

                            <Label Grid.Row="15" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalGeotubesName}" Content="Truck Volume" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="15" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalGeotubes}" Minimum="0" Maximum="50" Interval="0.5"
                                                            Value="{Binding GeotubeTruckVolume, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 50"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalGeotubesUnits}" >
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                                </Label>
                            </StackPanel>

                            <Label Grid.Row="16" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalGeotubesName}" Content="Excavate, Roundtrip Haul and Dispose per Truck Load of Sludge" Margin="50,2,2,2" Width="400"/>
                            <StackPanel Grid.Row="16" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalGeotubes}" Minimum="0" Maximum="500" Interval="1"
                                                            Value="{Binding GeotubeTimeToLoadTruck, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalGeotubesUnits}" Content="min" />
                            </StackPanel>

                            <Label Grid.Row="17" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalGeotubesName}" Content="Excavator Hourly Rate" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="17" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalGeotubes}" Minimum="0" Maximum="500" Interval="1"
                                                            Value="{Binding GeotubeExcavatorHourlyRate, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalGeotubesUnits}" Content="$/hr" />
                            </StackPanel>

                            <Label Grid.Row="18" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalGeotubesName}" Content="Roundtrip Distance" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="18" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalGeotubes}" Minimum="0" Maximum="500" Interval="1"
                                                            Value="{Binding GeotubeTruckRoundtripDistance, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalGeotubesUnits}" Content="mi" />
                            </StackPanel>

                            <Label Grid.Row="19" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalGeotubesName}" Content="Transportation Unit Cost" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="19" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalGeotubes}" Minimum="0" Maximum="20" Interval="0.05"
                                                            Value="{Binding GeotubeTruckTransportationUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 20"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelSludgeDisposalGeotubesUnits}" Content="$/mi" />
                            </StackPanel>

                        </Grid>

                    </ScrollViewer>
                </Expander>

                <!-- Other Annual Items -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="AppPlus" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Other Annual Items" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Other Annual Items" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandOtherItemsAnnual}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorHeader}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" HorizontalScrollBarVisibility="Auto" Height="200">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Description" />
                        <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding OtherAnnualItemDescription1, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Quantity" />
                        <StackPanel Grid.Row="1" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherAnnualItemQuantity1, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Unit Cost" />
                        <StackPanel Grid.Row="2" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherAnnualItemUnitCost1, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Description" />
                        <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding OtherAnnualItemDescription2, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="4" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Quantity" />
                        <StackPanel Grid.Row="4" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherAnnualItemQuantity2, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="5" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Unit Cost" />
                        <StackPanel Grid.Row="5" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherAnnualItemUnitCost2, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Description" />
                        <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding OtherAnnualItemDescription3, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="7" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Quantity" />
                        <StackPanel Grid.Row="7" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherAnnualItemQuantity3, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="8" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Unit Cost" />
                        <StackPanel Grid.Row="8" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherAnnualItemUnitCost3, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="9" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Description" />
                        <TextBox Grid.Row="9" Grid.Column="1" Text="{Binding OtherAnnualItemDescription4, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="10" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Quantity" />
                        <StackPanel Grid.Row="10" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherAnnualItemQuantity4, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="11" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Unit Cost" />
                        <StackPanel Grid.Row="11" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherAnnualItemUnitCost4, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="12" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Description" />
                        <TextBox Grid.Row="12" Grid.Column="1" Text="{Binding OtherAnnualItemDescription5, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="13" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Quantity" />
                        <StackPanel Grid.Row="13" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherAnnualItemQuantity5, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="14" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Unit Cost" />
                        <StackPanel Grid.Row="14" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherAnnualItemUnitCost5, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                    </Grid>
                </ScrollViewer>

            </StackPanel>
        </ScrollViewer>

        <ScrollViewer Grid.Column="1" MinHeight="700" CanContentScroll="False" >
            <StackPanel Grid.Column="1" Margin="10">
                <!-- Sizing Summary -->
                <Grid Style="{StaticResource MyGridHeader}" >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="Paper" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Sizing Summary" />
                    </StackPanel>

                    <TextBlock Grid.Row="0" Grid.Column="1" Style="{StaticResource MyTextBlockHeaderValue}" 
                               Text="{Binding CalcLimestoneWeight, Mode=TwoWay, StringFormat={}Limestone Bed:  {0:F2} tons}"
                               TextWrapping="Wrap"
                               Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                               Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" 
                               HorizontalAlignment="Right"
                               ToolTip="Weight of Limestone Bed"/>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Sizing Summary" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandSizingSummary}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>


                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="380" >
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Excavation Volume" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcExcavationVolume, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Total Pond Depth" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcPondDepth, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="feet" />
                        </StackPanel>
                        <Separator Grid.Row="1" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                        
                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Freeboard Top Length" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcFreeboardTopLength, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="feet" />
                        </StackPanel>
                        <Separator Grid.Row="2" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Freeboard Top Width" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcFreeboardTopWidth, Mode=Twoway, StringFormat=F2}" 
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="feet" />
                        </StackPanel>
                        <Separator Grid.Row="3" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="4" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Freeboard Surface Area" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcFreeboardTopArea, Mode=Twoway, StringFormat=F2}" 
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">ft&#x00B2;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="4" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                        
                        <TextBlock Grid.Row="5" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Freeboard Volume" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcFreeboardVolume, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="5" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Oxidation Bottom Length" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcOxidationBottomLength, Mode=Twoway, StringFormat=F2}" 
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="feet"/>
                        </StackPanel>
                        <Separator Grid.Row="6" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="7" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Oxidation Bottom Width" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="7" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcOxidationBottomWidth, Mode=Twoway, StringFormat=F2}" 
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="feet"/>
                        </StackPanel>
                        <Separator Grid.Row="7" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                        
                        <TextBlock Grid.Row="8" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Oxidation Surface Area" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="8" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcOxidationTopArea, Mode=Twoway, StringFormat=F2}" 
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">ft&#x00B2;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="8" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="9" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Oxidation Volume" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="9" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcOxidationVolume, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="9" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="10" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Retention / Settling Bottom Length" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="10" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSettlingBottomLength, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="feet"/>
                        </StackPanel>
                        <Separator Grid.Row="10" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="11" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Retention / Settling Bottom Width" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="11" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSettlingBottomWidth, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="feet"/>
                        </StackPanel>
                        <Separator Grid.Row="11" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="12" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Retention / Settling Surface Area" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="12" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSettlingTopArea, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">ft&#x00B2;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="12" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="13" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Retention / Settling Volume" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="13" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSettlingVolume, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="13" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="14" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Bottom Length" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="14" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeBottomLength, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="feet"/>
                        </StackPanel>
                        <Separator Grid.Row="14" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="15" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Bottom Width" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="15" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeBottomWidth, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="feet"/>
                        </StackPanel>
                        <Separator Grid.Row="15" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                        
                        <TextBlock Grid.Row="16" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Capacity Surface Area" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="16" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeTopArea, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">ft&#x00B2;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="16" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="17" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Capacity Volume" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="17" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeVolume, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="17" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="18" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Thickened Sludge Volume" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="18" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeProducedVolumeCubicYardsPerYear, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;/year</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="18" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="19" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Removal Frequency " Margin="5,5,0,5" />
                        <StackPanel Grid.Row="19" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeRemovalPerYear, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="#/yr"/>
                        </StackPanel>
                        <Separator Grid.Row="19" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="20" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Dewatered Sludge Volume" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="20" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcDewateredSludgeProducedCubicYardsPerYear, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;/year</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="20" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="21" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Liner Area" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="21" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcLinerArea, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B2;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="21" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="22" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Liner Volume" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="22" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcLinerVolume, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="22" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="23" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Clear and Grub Area" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="23" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcClearAndGrubArea, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="acres" />
                        </StackPanel>
                        <Separator Grid.Row="23" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="24" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Geotubes Required" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="24" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcGeotubeQuantity, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="#/year" />
                        </StackPanel>
                        <Separator Grid.Row="24" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="25" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Length of each Baffle" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="25" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcBaffleLength, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="feet" />
                        </StackPanel>
                        <Separator Grid.Row="25" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="26" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Oxidation Layer Retention Time" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="26" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcRetentionTimeOxidation, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="hours" />
                        </StackPanel>
                        <Separator Grid.Row="26" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="27" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Retention / Settling Layer Retention Time" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="27" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcRetentionTimeSettling, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="hours" />
                        </StackPanel>
                        <Separator Grid.Row="27" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="28" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Total Retention Time" Margin="5,5,0,5" />
                        <StackPanel Grid.Row="28" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcRetentionTimeTotal, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="hours" />
                        </StackPanel>
                        <Separator Grid.Row="28" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                    </Grid>

                </ScrollViewer>

                <!-- Capital Cost Summary -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="CurrencyDollar" Style="{StaticResource MyIconPackModernHeadersCost}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Capital Cost" />
                    </StackPanel>
                    <TextBlock Grid.Row="0" Grid.Column="1" Style="{StaticResource MyTextBlockHeaderValue}" Text="{Binding CalcCapitalCostTotal, Mode=TwoWay, StringFormat=C2}" 
                               Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                               Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" 
                               HorizontalAlignment="Right"
                               ToolTip="Total Capital Cost"/>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Capital Cost" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandCapitalCost}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" HorizontalScrollBarVisibility="Auto" >
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Excavation" />
                        <StackPanel Grid.Row="0" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcExcavationCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pipe" />
                        <StackPanel Grid.Row="1" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcPipeCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="1" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Liner" />
                        <StackPanel Grid.Row="2" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcLinerCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="2" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Appurtenances / Other Items" />
                        <StackPanel Grid.Row="3" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcOtherItemsCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="3" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="4" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Baffle" />
                        <StackPanel Grid.Row="4" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcBaffleCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="4" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="5" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Borehole" />
                        <StackPanel Grid.Row="5" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcBoreholeCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="5" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Other Captial Items" />
                        <StackPanel Grid.Row="6" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcOtherCapitalItemsCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="6" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                    </Grid>
                </ScrollViewer>

                <!-- Annual Cost Summary -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="CurrencyDollar" Style="{StaticResource MyIconPackModernHeadersCost}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Annual Cost" />
                    </StackPanel>
                    <TextBlock Grid.Row="0" Grid.Column="1" Style="{StaticResource MyTextBlockHeaderValue}" Text="{Binding CalcAnnualCost, Mode=TwoWay, StringFormat=C2}" 
                               Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                               Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" 
                               HorizontalAlignment="Right"
                               ToolTip="Total Annual Cost"/>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Annual Cost" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandAnnualCost}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" HorizontalScrollBarVisibility="Auto" Height="360">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                        </Grid.Resources>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Operation and Maintanence" />
                        <StackPanel Grid.Row="0" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcAnnualCostOperationAndMaintenance, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <RadioButton x:Name="radioButtonAnnualCostOperationAndMaintanenceMultiplier" Grid.Row="1" Grid.Column="0" Margin="50,0,0,0" FontSize="14" GroupName="AnnualCostOperationAndMaintanence" Content="Percentage of Capital Cost"  
                                 IsChecked="{Binding AnnualCostOperationAndMaintenanceOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostMultiplier}" />

                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAnnualCostOperationAndMaintanenceMultiplier}" Minimum="0" Maximum="50" Interval="0.01"  
                                                    Value="{Binding AnnualCostMultiplier, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <Label Style="{StaticResource MyLabelAnnualCostOperationAndMaintanenceMultiplierUnits}" Content="%" />
                        </StackPanel>

                        <RadioButton x:Name="radioButtonAnnualCostOperationAndMaintanenceUserSpecified" Grid.Row="2" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="AnnualCostOperationAndMaintanence" Content="User-Specified"  
                                 IsChecked="{Binding AnnualCostOperationAndMaintenanceOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostFlatFee}" />

                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAnnualCostOperationAndMaintanenceUserSpecified}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding AnnualCostFlatFee, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <Label Style="{StaticResource MyLabelAnnualCostOperationAndMaintanenceUserSpecifiedUnits}" Content="" />
                        </StackPanel>

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Handling" />
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcAnnualCostSludgeHandling, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="3" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <RadioButton x:Name="radioButtonAnnualCostSludgeHandlingEstimate" Grid.Row="4" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="AnnualCostSludgeHandling" Content="Estimated Sludge Handling"  
                                 IsChecked="{Binding AnnualCostSludgeHandlingOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostSludgeHandlingEstimated}" />

                        <!--<StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Label Style="{StaticResource MyLabelAnnualCostSludgeHandlingCostEstimateValue}" Content="{Binding CalcAnnualCostSludgeHandlingEstimate, Mode=TwoWay}" ContentStringFormat="C2"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"
                                       FontSize="12" Width="120" />
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                        </StackPanel>-->

                        <RadioButton x:Name="radioButtonAnnualCostSludgeHandlingUserSpecified" Grid.Row="5" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="AnnualCostSludgeHandling" Content="User-Specified"  
                                 IsChecked="{Binding AnnualCostSludgeHandlingOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostSludgeHandlingUserSpecified}" />

                        <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAnnualCostSludgeHandlingUserSpecified}" Minimum="0" Maximum="1000000" Interval="1000"
                                                Value="{Binding AnnualCostSludgeHandlingUserSpecified, Mode=TwoWay, StringFormat=C2}"
                                                ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="" />
                        </StackPanel>

                        <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Disposal" />
                        <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcAnnualCostSludgeDisposal, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="6" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <RadioButton x:Name="radioButtonAnnualCostSludgeDisposalEstimate" Grid.Row="7" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="AnnualCostSludgeDisposalOptions" Content="Estimated Sludge Disposal"  
                                 IsChecked="{Binding AnnualCostSludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostSludgeDisposalEstimated}" />

                        <!--<StackPanel Grid.Row="7" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Label Style="{StaticResource MyLabelAnnualCostSludgeDisposalCostEstimateValue}" Content="{Binding CalcAnnualCostSludgeDisposalEstimate, Mode=TwoWay}" ContentStringFormat="C2"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"
                                       FontSize="12" Width="120"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                        </StackPanel>-->

                        <RadioButton x:Name="radioButtonAnnualCostSludgeDisposalUserSpecified" Grid.Row="8" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="AnnualCostSludgeDisposalOptions" Content="User-Specified"  
                                 IsChecked="{Binding AnnualCostSludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostSludgeDisposalUserSpecified}" />

                        <StackPanel Grid.Row="8" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAnnualCostSludgeDisposalUserSpecified}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding AnnualCostSludgeDisposalUserSpecified, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                        </StackPanel>

                        <TextBlock Grid.Row="9" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Other Items" />
                        <StackPanel Grid.Row="9" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcAnnualCostOtherAnnualItems, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="9" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                    </Grid>
                </ScrollViewer>

                <!-- Recapitalization Cost Summary -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="CurrencyDollar" Style="{StaticResource MyIconPackModernHeadersCost}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Net Present Value" ToolTip="Net Present Value of Replacement and Annual Costs" />
                    </StackPanel>
                    <TextBlock Grid.Row="0" Grid.Column="1" Style="{StaticResource MyTextBlockHeaderValue}" 
                               Text="{Binding CalcRecapitalizationCostTotal, Mode=TwoWay, StringFormat=C2}" 
                               Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                               Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" 
                               HorizontalAlignment="Right"
                               ToolTip="Total Net Present Value of Replacement and Annual Costs"/>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Net Present Value of Replacement and Annual Costs" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandRecapitalizationCost}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" 
                               Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}"  >
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>

                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                        </Grid.Resources>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Term of Analysis" />
                        <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding RecapitalizationCostCalculationPeriod, Mode=Twoway, StringFormat=F2}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="years" />
                        </StackPanel>
                        <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Inflation Rate" />
                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding RecapitalizationCostInflationRate, Mode=Twoway, StringFormat=F2}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="%" />
                        </StackPanel>
                        <Separator Grid.Row="1" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Rate of Return" />
                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding RecapitalizationCostNetRateOfReturn, Mode=Twoway, StringFormat=F2}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="%" />
                        </StackPanel>
                        <Separator Grid.Row="2" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text=""></TextBlock>
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" 
                                       Text="{Binding CalcUpdateRecapMaterialCostDefault, Mode=TwoWay, StringFormat=C2}"
                                       Visibility="Hidden"/>
                        </StackPanel>

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text=""></TextBlock>
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" 
                                       Text="{Binding CalcUpdateRecapMaterialCostTotal, Mode=TwoWay, StringFormat=C2}"
                                       Visibility="Hidden"/>
                        </StackPanel>
                        
                        <DataGrid Grid.Row="4" Grid.ColumnSpan="2" ItemsSource="{Binding RecapMaterials, Mode=TwoWay}" 
                                  AutoGenerateColumns="False" CanUserAddRows="True" CanUserDeleteRows="False" SelectionUnit="Cell"
                                  Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                  Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" >
                            <DataGrid.Columns>
                                <DataGridCheckBoxColumn 
                                        ElementStyle="{DynamicResource MetroDataGridCheckBox}"
                                        EditingElementStyle="{DynamicResource MetroDataGridCheckBox}"
                                        Header="Select"
                                        Binding="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                <DataGridTextColumn Header="Name" Binding="{Binding Name}" />
                                <Controls:DataGridNumericUpDownColumn Header="Life Cycle (yrs)" 
                                                      Binding="{Binding LifeCycle, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                      Minimum="1" 
                                                      Maximum="50">
                                    <Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="LIFE CYCLE (YRS)" ToolTip="min = 1, max = 50" />
                                        </DataTemplate>
                                    </Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                </Controls:DataGridNumericUpDownColumn>
                                <Controls:DataGridNumericUpDownColumn Header="Replacement %"
                                                      Binding="{Binding PercentReplacement, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                      Minimum="0" 
                                                      Maximum="100">
                                    <Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="REPLACEMENT %" ToolTip="min = 0, max = 100" />
                                        </DataTemplate>
                                    </Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                </Controls:DataGridNumericUpDownColumn>
                                <Controls:DataGridNumericUpDownColumn Header="Default Cost"
                                                      Binding="{Binding MaterialCostDefault}"
                                                      StringFormat="C" 
                                                      IsReadOnly="True"
                                                      Foreground="Gray"/>
                                <Controls:DataGridNumericUpDownColumn Header="Custom Cost"
                                                      Binding="{Binding MaterialCostCustom, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                      StringFormat="C"
                                                      Minimum="0" >
                                    <Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="CUSTOM COST" ToolTip="min = 0, max = " />
                                        </DataTemplate>
                                    </Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                </Controls:DataGridNumericUpDownColumn>
                                <DataGridCheckBoxColumn 
                                        ElementStyle="{DynamicResource MetroDataGridCheckBox}"
                                        EditingElementStyle="{DynamicResource MetroDataGridCheckBox}"
                                        Header="Use Custom"
                                        Binding="{Binding UseCustomCost, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                <Controls:DataGridNumericUpDownColumn Header="Total Cost"
                                                      Binding="{Binding TotalCost}"
                                                      StringFormat="C"
                                                      IsReadOnly="True"/>
                            </DataGrid.Columns>
                        </DataGrid>

                        <Separator Grid.Row="4" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                    </Grid>

                </ScrollViewer>

            </StackPanel>
        </ScrollViewer>

    </Grid>

</Controls:MetroWindow>
