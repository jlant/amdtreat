<Controls:MetroWindow 
    x:Class="AMDTreat.Views.ClarifierWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:Controls="clr-namespace:MahApps.Metro.Controls;assembly=MahApps.Metro"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:local="clr-namespace:AMDTreat.Views"
    xmlns:models="clr-namespace:AMDTreat.Models"
    xmlns:converters="clr-namespace:AMDTreat.Converters"
    xmlns:Dialog="clr-namespace:MahApps.Metro.Controls.Dialogs;assembly=MahApps.Metro"
    Dialog:DialogParticipation.Register="{Binding}"
    mc:Ignorable="d"
    WindowStartupLocation="CenterScreen"
    ResizeMode="CanResizeWithGrip"
    Title="" 
    TextOptions.TextFormattingMode="Display"
    Width="{Binding Source={x:Static SystemParameters.PrimaryScreenWidth}, Converter={converters:ScreenResolutionRatioConverter}, ConverterParameter='0.9' }"
    Height="{Binding Source={x:Static SystemParameters.PrimaryScreenHeight}, Converter={converters:ScreenResolutionRatioConverter}, ConverterParameter='0.9' }"
    MinWidth="1024"
    MinHeight="768"
    BorderBrush="{DynamicResource AccentColorBrush}"
    BorderThickness="1">

    <Controls:MetroWindow.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/AMDTreat;component/Styles/TreatmentModuleGeneralStyles.xaml" />
                <ResourceDictionary Source="/AMDTreat;component/Styles/ClarifierStyles.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <converters:BoolToBrushBackground x:Key="BoolToBrushBackground" />
            <converters:BoolToBrushBorder x:Key="BoolToBrushBorder" />
            <converters:BoolToBrushSeparater x:Key="BoolToBrushSeparater" />
            <converters:BoolToBrushIcon x:Key="BoolToBrushIcon" />
            <converters:BoolToBrushText x:Key="BoolToBrushText" />
            <converters:BoolToExpanded x:Key="BoolToExpanded" />
            <converters:BoolToVisibility x:Key="BoolToVisibility" />
            <converters:BoolToBrushDataGridForeground x:Key="BoolToBrushDataGridForeground" />

        </ResourceDictionary>
    </Controls:MetroWindow.Resources>

    <Controls:MetroWindow.RightWindowCommands>
        <Controls:WindowCommands>
            <!--<Button ToolTip="Open XML" Content="{iconPacks:Modern PageXml, Width=22, Height=22}" Command="{Binding OpenCommand}" />
            <Button ToolTip="Save XML" Content="{iconPacks:Modern Save, Width=22, Height=22}" Command="{Binding SaveCommand}" />
            <Button ToolTip="Create Report" Content="{iconPacks:Modern PageFilePdf, Width=22, Height=22}" Command="{Binding ShowMessageDialogCommandTbd}" />-->
        </Controls:WindowCommands>
    </Controls:MetroWindow.RightWindowCommands>

    <Controls:MetroWindow.LeftWindowCommands>
        <Controls:WindowCommands>
            <ToggleButton ToolTip="Module Information" IsChecked="{Binding ElementName=flyoutModuleInformation, Path=IsOpen}">
                <StackPanel Orientation="Horizontal">
                    <iconPacks:PackIconModern Kind="BoxLayered" Width="22" Height="22" VerticalAlignment="Center" HorizontalAlignment="Center" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="{Binding Path=ModuleType}" Margin="5,0,0,0" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="{Binding Path=ModuleName, StringFormat={} {0:S}}" Margin="5,0,0,0" FontWeight="Bold" FontStyle="Italic" />
                </StackPanel>
            </ToggleButton>
            <ToggleButton ToolTip="Water Quality Information" IsChecked="{Binding ElementName=flyoutWaterQuality, Path=IsOpen}">
                <StackPanel Orientation="Horizontal">
                    <iconPacks:PackIconModern Kind="WaterDropletAlert" Width="24" Height="22" VerticalAlignment="Center" HorizontalAlignment="Center" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Water Quality" Margin="5,0,0,0" />
                </StackPanel>
            </ToggleButton>

            <ToggleButton ToolTip="Error Information" IsChecked="{Binding ElementName=flyoutErrorInformation, Path=IsOpen}" >
                <StackPanel Orientation="Horizontal">
                    <iconPacks:PackIconModern Kind="WarningCircle" Width="24" Height="22" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="{Binding IsError, Converter={StaticResource BoolToBrushIcon}}" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Errors" Margin="5,0,0,0" />
                </StackPanel>
            </ToggleButton>

            <Button ToolTip="Sync with Main User Interface" Command="{Binding SyncCommand}">
                <StackPanel Orientation="Horizontal">
                    <iconPacks:PackIconMaterial Kind="Sync" Width="24" Height="22" VerticalAlignment="Center" HorizontalAlignment="Center" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Sync" Margin="5,0,0,0" />
                </StackPanel>
            </Button>
            
        </Controls:WindowCommands>
    </Controls:MetroWindow.LeftWindowCommands>

    <Controls:MetroWindow.Flyouts>
        <Controls:FlyoutsControl>
            <Controls:Flyout x:Name="flyoutModuleInformation" Header="Module Information" Position="Left" Width="350" IsOpen="False" Theme="Dark">
                <StackPanel Orientation="Vertical">

                    <Button Style="{StaticResource MyButtonModuleInformation}" ToolTip="Open Module" Command="{Binding OpenCommand}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Kind="PageXml" Style="{StaticResource MyIconPackModernAmdtreatInformationButton}"/>
                            <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Open" />
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource MyButtonModuleInformation}" ToolTip="Save Module" Command="{Binding SaveCommand}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Kind="Save" Style="{StaticResource MyIconPackModernAmdtreatInformationButton}" />
                            <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Save" />
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource MyButtonModuleInformation}" ToolTip="Create Module Report" Command="{Binding ShowMessageDialogCommandTbd}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Kind="PagePdf" Style="{StaticResource MyIconPackModernAmdtreatInformationButton}" />
                            <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Report" />
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource MyButtonModuleInformation}" ToolTip="About Module" Command="{Binding ShowMessageDialogCommandAbout}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Kind="InformationCircle" Style="{StaticResource MyIconPackModernAmdtreatInformationButton}" />
                            <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="About" />
                        </StackPanel>
                    </Button>

                    <Button Style="{StaticResource MyButtonModuleInformation}" ToolTip="Open Help" Command="{Binding HelpCommand}">
                        <StackPanel Orientation="Horizontal">
                            <iconPacks:PackIconModern Kind="Question" Style="{StaticResource MyIconPackModernAmdtreatInformationButton}" />
                            <TextBlock Style="{StaticResource MyTextBlockHeaderSmall}" Text="Help" />
                        </StackPanel>
                    </Button>

                    <Separator Style="{StaticResource MySeparatorFlyout}" />

                    <TextBlock Style="{StaticResource MyTextBlockHeaderFlyout}" Text="Module Name" />
                    <TextBox Margin="10,2,10,10" TextWrapping="Wrap" Text="{Binding Path=ModuleName, Mode=TwoWay}" KeyUp="TextBox_KeyEnterUpdate" FontSize="14" />
                    <TextBlock Style="{StaticResource MyTextBlockHeaderFlyout}"  Text="Notes" />
                    <RichTextBox Margin="10,2,10,10" Controls:TextBoxHelper.Watermark="Enter your notes" Height="200" FontSize="14" 
                                 SpellCheck.IsEnabled="True" VerticalScrollBarVisibility="Auto" />
                </StackPanel>
            </Controls:Flyout>

            <Controls:Flyout x:Name="flyoutWaterQuality" Header="Input Water Quality" Position="Left" Width="350" IsOpen="False" Theme="Dark">
                <StackPanel Orientation="Vertical">
                    <Grid Margin="10,0,0,0" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.5*"></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Button Grid.Row="0" Grid.Column="1" Style="{DynamicResource MetroCircleButtonStyle}" ToolTip="About Water Quality" 
                                Content="{iconPacks:Modern InformationCircle, Width=20, Height=20}"  
                                Command="{Binding ShowMessageDialogCommandWaterQuality}" 
                                Opacity="0.6" BorderThickness="1" VerticalAlignment="Top" HorizontalAlignment="Right" Margin="10,5" />

                        <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Design Flow" />
                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="500" Maximum="4000" Interval="100"
                                                    Value="{Binding DesignFlow, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                    ToolTip="min = 500, max = 4,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="gpm" />
                        </StackPanel>

                        <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Typical Flow" />
                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="4000" Interval="100" 
                                                    Value="{Binding TypicalFlow, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 4,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="gpm" />
                        </StackPanel>


                        <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Ferrous Iron" />
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="10000" Interval="1" 
                                                    Value="{Binding FerrousIron, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 10,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                        </StackPanel>

                        <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Ferric Iron" />
                        <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="10000" Interval="1" 
                                                    Value="{Binding FerricIron, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 10,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                        </StackPanel>

                        <Label Grid.Row="5" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Aluminum" />
                        <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="10000" Interval="1" 
                                                    Value="{Binding Aluminum, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 10,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                        </StackPanel>

                        <Label Grid.Row="6" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Manganese" />
                        <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="10000" Interval="1" 
                                                    Value="{Binding Manganese, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 10,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                        </StackPanel>
                        
                    </Grid>
                </StackPanel>
            </Controls:Flyout>

            <Controls:Flyout x:Name="flyoutErrorInformation" Header="Error Information" Position="Left" Width="350" IsOpen="{Binding IsOpenFlyoutError}" Theme="Dark">
                <StackPanel Orientation="Vertical">
                    <Grid Margin="10,0,0,0" >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Maximum Pond Depth" />
                        <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcMaxPondDepth, Mode=Twoway, StringFormat=F2}" />
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="ft" />
                        </StackPanel>

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Current Pond Depth" />
                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcPondDepth, Mode=Twoway, StringFormat=F2}" />
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="ft" />
                        </StackPanel>

                        <Separator Grid.Row="2" Style="{StaticResource MySeparatorFlyout}" />
                        <TextBlock Grid.Row="3" Grid.ColumnSpan="2" Style="{StaticResource MyTextBlockHeader}" Text="{Binding ErrorMessageShort}" TextWrapping="Wrap"/>
                        <TextBlock Name="ErrorMessageTextBlock" Grid.Row="4" Grid.ColumnSpan="2" Style="{StaticResource MyTextBlockPropertyName}" Text="{Binding Path=ErrorMessage, Mode=TwoWay}" TextWrapping="Wrap"/>

                    </Grid>
                </StackPanel>
            </Controls:Flyout>

        </Controls:FlyoutsControl>
    </Controls:MetroWindow.Flyouts>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition></ColumnDefinition>
            <ColumnDefinition></ColumnDefinition>
        </Grid.ColumnDefinitions>

        <Grid.RowDefinitions>
            <RowDefinition></RowDefinition>
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Column="0" MinHeight="700" CanContentScroll="False" Margin="0,-10,0,10">
            <StackPanel Grid.Column="0" Margin="10">

                <!-- Sizing Methods -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="DimensionArrowBoxHeight" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Clarifier Design" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Clarifier Design" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandClarifierDesign}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <!-- Note: added a Margin to the Grid to match the ScrollViewer style for each section -->
                <ScrollViewer HorizontalScrollBarVisibility="Auto" >
                    <Grid Margin="0,0,0,10"  >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition ></ColumnDefinition>
                            <ColumnDefinition ></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                        </Grid.Resources>
                  
                        <RadioButton x:Name="radioButtonConventional" Grid.Row="0" Grid.Column="0" Margin="5" FontSize="14" GroupName="ClarifierDesign" Content="Conventional" 
                                 IsChecked="{Binding ClarifierDesignOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionConventional}" />
                        <RadioButton x:Name="radioButtonSolidsContact" Grid.Row="1" Grid.Column="0" Margin="5" FontSize="14" GroupName="ClarifierDesign" Content="Solids Contact" 
                                 IsChecked="{Binding ClarifierDesignOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionSolidsContact}" />

                        <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Label Style="{StaticResource MyLabelClarifierFlowPerAreaConventionalName}" Content="Hydraulic Loading" />
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownClarifierFlowPerAreaConventional}" Minimum="0.1" Maximum="1.25" Interval="0.1"
                                                Value="{Binding ClarifierFlowPerAreaConventional, Mode=TwoWay, StringFormat=F2}"
                                                ToolTip="min = 0.1, max = 1.25"/>
                            <Label Style="{StaticResource MyLabelClarifierFlowPerAreaConventionalUnits}">
                                <Run Typography.Variants="Superscript">gpm/ft&#x00B2;</Run>
                            </Label>
                        </StackPanel>

                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Label Style="{StaticResource MyLabelClarifierFlowPerAreaSolidsContactName}" Content="Hydraulic Loading" />
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownClarifierFlowPerAreaSolidsContact}" Minimum="0.5" Maximum="2" Interval="0.1"
                                                Value="{Binding ClarifierFlowPerAreaSolidsContact, Mode=TwoWay, StringFormat=F2}"
                                                ToolTip="min = 0.5, max = 2"/>
                            <Label Style="{StaticResource MyLabelClarifierFlowPerAreaSolidsContactUnits}">
                                <Run Typography.Variants="Superscript">gpm/ft&#x00B2;</Run>
                            </Label>
                        </StackPanel>

                        <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Clarifier Construction Material" />
                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:DropDownButton 
                                        x:Name="dropDownClarifierConstructionMaterial"
                                        VerticalContentAlignment="Center"
                                        Width="120"
                                        Margin="4"
                                        Content="{Binding ClarifierConstructionMaterialName}"
                                        ItemsSource="{Binding ClarifierConstructionMaterials}">
                                <Controls:DropDownButton.Resources>
                                    <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                </Controls:DropDownButton.Resources>
                                <Controls:DropDownButton.ItemContainerStyle>
                                    <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                        <Setter Property="Header" Value="{Binding Name}"/>
                                        <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetClarifierConstructionMaterialCommand}"/>
                                        <Setter Property="CommandParameter" Value="{Binding }"/>
                                    </Style>
                                </Controls:DropDownButton.ItemContainerStyle>
                            </Controls:DropDownButton>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                        </StackPanel>

                        <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Number of Clarifiers" />
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="4" Interval="1"
                                                            Value="{Binding ClarifierQuantity, Mode=TwoWay, StringFormat=F2}"
                                                            ToolTip="min = 0, max = 4"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                        </StackPanel>

                        <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Clarifier Water Height" />
                        <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="5" Maximum="20" Interval="1"
                                                            Value="{Binding ClarifierWaterHeight, Mode=TwoWay, StringFormat=F2}"
                                                            ToolTip="min = 5, max = 20"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="ft" />
                        </StackPanel>

                        <Label Grid.Row="5" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Clarifier Freeboard" />
                        <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="1" Maximum="4" Interval="0.5"
                                                            Value="{Binding ClarifierFreeboard, Mode=TwoWay, StringFormat=F2}"
                                                            ToolTip="min = 1, max = 4"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="ft" />
                        </StackPanel>

                        <Label Grid.Row="6" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Sludge Blanket Depth" />
                        <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0.5" Maximum="10" Interval="0.5"
                                                            Value="{Binding SludgeBlanketDepth, Mode=TwoWay, StringFormat=F2}"
                                                            ToolTip="min = 0.5, max = 10"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="ft" />
                        </StackPanel>
                    </Grid>
                </ScrollViewer>


                <!-- Equipment -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="WaterPump" Style="{StaticResource MyIconPackMaterialHeaders}"/>
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Equipment" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource MyButtonSectionInformation}" ToolTip="Equipment" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandEquipment}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <!-- Note: added a Margin to the StackPanel to match the ScrollViewer style for each section -->
                <StackPanel Margin="0,0,0,10">

                    <Expander Style="{StaticResource MyExpanderTankMotorPumps}">
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="500">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <Grid.Resources>
                                    <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                                </Grid.Resources>

                                <Label Grid.Row="0" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Overflow Weir Unit Cost" />
                                <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="200" Interval="5" StringFormat="C2" 
                                                            Value="{Binding OverflowWeirUnitCost, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 200"/>
                                    <Label Style="{StaticResource MyLabelPropertyUnits}" Content="$/ft" />
                                </StackPanel>

                                <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Catwalk with Handrail Unit Cost" />
                                <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="600" Interval="10" StringFormat="C2" 
                                                            Value="{Binding CatwalkUnitCost, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 600"/>
                                    <Label Style="{StaticResource MyLabelPropertyUnits}" Content="$/ft" />
                                </StackPanel>

                                <CheckBox x:Name="checkBoxDensityCurrentBaffle" Grid.Row="2" Grid.Column="0" Margin="5" FontSize="14" Content="Density Current Baffle"
                                          IsChecked="{Binding IsDensityCurrentBaffle, Mode=TwoWay}"/>
                                <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownDensityCurrentBaffleUnitCost}" Minimum="0" Maximum="400" Interval="10" StringFormat="C2" 
                                                            Value="{Binding DensityCurrentBaffleUnitCost, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 400"/>
                                    <Label Style="{StaticResource MyLabelDensityCurrentBaffleUnitCostUnits}" Content="$/ft" />
                                </StackPanel>

                                <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Tank Protective Coating" />
                                <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:DropDownButton 
                                        x:Name="dropDownTankProtectiveCoating"
                                        VerticalContentAlignment="Center"
                                        Width="140"
                                        Margin="4"
                                        Content="{Binding TankProtectiveCoatingName}"
                                        ItemsSource="{Binding TankProtectiveCoatings}">
                                        <Controls:DropDownButton.Resources>
                                            <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                        </Controls:DropDownButton.Resources>
                                        <Controls:DropDownButton.ItemContainerStyle>
                                            <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                                <Setter Property="Header" Value="{Binding Name}"/>
                                                <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetTankProtectiveCoatingCommand}"/>
                                                <Setter Property="CommandParameter" Value="{Binding }"/>
                                            </Style>
                                        </Controls:DropDownButton.ItemContainerStyle>
                                    </Controls:DropDownButton>
                                    <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                                </StackPanel>

                                <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Clarifier Motor Operational Time" />
                                <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="24" Interval="1"
                                                            Value="{Binding ClarifierMotorOperationalTimeHoursPerDay, Mode=TwoWay, StringFormat=F2}"
                                                            ToolTip="min = 0, max = 24"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                    <Label Style="{StaticResource MyLabelPropertyUnits}" Content="hrs/day" />
                                </StackPanel>

                                <Label Grid.Row="5" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Clarifier Motor Operational Time" />
                                <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="365" Interval="1"
                                                            Value="{Binding ClarifierMotorOperationalTimeDaysPerYear, Mode=TwoWay, StringFormat=F2}"
                                                            ToolTip="min = 0, max = 365"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                    <Label Style="{StaticResource MyLabelPropertyUnits}" Content="days/year" />
                                </StackPanel>

                                <Label Grid.Row="6" Grid.Column="0" Style="{StaticResource MyLabelImpellerMotorName}" Content="Impeller Motor" />

                                <RadioButton x:Name="radioButtonImpellerMotorEstimate" Grid.Row="7" Grid.Column="0" Margin="50,0,0,0" FontSize="14" GroupName="ImpellerMotor" Content="Estimate" 
                                 IsChecked="{Binding ImpellerMotorOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionEstimate}" 
                                 IsEnabled="{Binding ClarifierDesignOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionSolidsContact}"/>

                                <RadioButton x:Name="radioButtonImpellerMotorUserSpecified" Grid.Row="8" Grid.Column="0" Margin="50,0,0,0" FontSize="14" GroupName="ImpellerMotor" Content="User-Specified" 
                                 IsChecked="{Binding ImpellerMotorOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionUserSpecified}" 
                                             IsEnabled="{Binding ClarifierDesignOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionSolidsContact}"/>
                                
                                <StackPanel Grid.Row="8" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelImpellerMotorUserSpecifiedName}" Content="" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownImpellerMotorUserSpecified}" Minimum="0" Maximum="20" Interval="1"
                                                Value="{Binding ImpellerMotorPowerUserSpecified, Mode=TwoWay}"
                                                ToolTip="min = 0, max = 20"/>
                                    <Label Style="{StaticResource MyLabelImpellerMotorUserSpecifiedUnits}" Content="HP" />
                                </StackPanel>

                                <Label Grid.Row="9" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Rake Drive Motor Power" />
                                <StackPanel Grid.Row="9" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="1" Maximum="20" Interval="1"
                                                            Value="{Binding RakeDriveMotorPower, Mode=TwoWay, StringFormat=F2}"
                                                            ToolTip="min = 1, max = 20"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                    <Label Style="{StaticResource MyLabelPropertyUnits}" Content="HP" />
                                </StackPanel>

                                <CheckBox x:Name="checkBoxSludgeRecirculationPump" Grid.Row="10" Grid.Column="0" Margin="5" FontSize="14" Content="High Density Sludge Recirculation Pump"
                                          IsChecked="{Binding IsSludgeRecirculationPump, Mode=TwoWay}"
                                          IsEnabled="{Binding ClarifierDesignOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionConventional}" />
                                
                                <RadioButton x:Name="radioButtonSludgeRecirculationPumpEstimate" Grid.Row="11" Grid.Column="0" Margin="50,0,0,0" FontSize="14" GroupName="SludgeRecirculationPump" Content="Estimate" 
                                 IsChecked="{Binding SludgeRecirculationPumpOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionEstimate}" 
                                             IsEnabled="{Binding ClarifierDesignOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionConventional}"/>

                                <RadioButton x:Name="radioButtonSludgeRecirculationPumpUserSpecified" Grid.Row="12" Grid.Column="0" Margin="50,0,0,0" FontSize="14" GroupName="SludgeRecirculationPump" Content="User-Specified" 
                                 IsChecked="{Binding SludgeRecirculationPumpOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionUserSpecified}"
                                             IsEnabled="{Binding ClarifierDesignOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionConventional}"/>

                                <StackPanel Grid.Row="12" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelSludgeRecirculationPumpUserSpecifiedName}" Content="" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeRecirculationPumpUserSpecified}" Minimum="0" Maximum="1500" Interval="10"
                                                Value="{Binding SludgeRecirculationPumpFlowUserSpecified, Mode=TwoWay}"
                                                ToolTip="min = 0, max = 1500"/>
                                    <Label Style="{StaticResource MyLabelSludgeRecirculationPumpUserSpecifiedUnits}" Content="gpm" />
                                </StackPanel>

                                <Label Grid.Row="13" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Sludge Disposal Horizontal Centrifugal Pumps" Width="300" />
                                <StackPanel Grid.Row="13" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Grid.Row="13" Grid.Column="0" Style="{StaticResource MyLabelSludgeDisposalHorizontalCentrifugalPumpQuantityName}" Content="Quantity for each Clarifier" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="8" Interval="1"
                                                            Value="{Binding SludgeDisposalHorizontalCentrifugalPumpQuantity, Mode=TwoWay, StringFormat=F2}"
                                                            ToolTip="min = 0, max = 8"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                    <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                                </StackPanel>

                                <Label Grid.Row="14" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content=" Sludge Disposal Pump Sizing" />

                                <RadioButton x:Name="radioButtonSludgeDisposalPumpEstimate" Grid.Row="15" Grid.Column="0" Margin="50,0,0,0" FontSize="14" GroupName="SludgeDisposalPump" Content="Estimate" 
                                 IsChecked="{Binding SludgeDisposalPumpOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionEstimate}" />

                                <StackPanel Grid.Row="15" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelSludgeDisposalPumpSludgeVolumeName}" Content="Initial Sludge/Raw Water Vol." />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalPumpSludgeVolume}" Minimum="0.1" Maximum="40" Interval="0.1"
                                                Value="{Binding SludgeVolume, Mode=TwoWay}"
                                                ToolTip="min = 0.1, max = 40"/>
                                    <Label Style="{StaticResource MyLabelSludgeDisposalPumpSludgeVolumeUnits}" Content="% by vol" />
                                </StackPanel>

                                <StackPanel Grid.Row="16" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelSludgeDisposalPumpEfficiencyName}" Content="Estimated Pump Efficiency" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalPumpEfficiency}" Minimum="0.1" Maximum="1" Interval="0.05"
                                                Value="{Binding SludgeDisposalPumpEfficiency, Mode=TwoWay}"
                                                ToolTip="min = 0.1, max = 1"/>
                                    <Label Style="{StaticResource MyLabelSludgeDisposalPumpEfficiencyUnits}" Content="unitless" />
                                </StackPanel>

                                <StackPanel Grid.Row="17" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelSludgeDisposalPumpSizingSafetyFactorName}" Content=" Pump Sizing Safety Factor" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalPumpSizingSafetyFactor}" Minimum="0.1" Maximum="1" Interval="0.05"
                                                Value="{Binding SludgeDisposalPumpSizingSafetyFactor, Mode=TwoWay}"
                                                ToolTip="min = 0.1, max = 1"/>
                                    <Label Style="{StaticResource MyLabelSludgeDisposalPumpSizingSafetyFactorUnits}" Content="unitless" />
                                </StackPanel>

                                <RadioButton x:Name="radioButtonSludgeDisposalPumpUserSpecified" Grid.Row="18" Grid.Column="0" Margin="50,0,0,0" FontSize="14" GroupName="SludgeDisposalPump" Content="User-Specified" 
                                 IsChecked="{Binding SludgeDisposalPumpOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionUserSpecified}" />

                                <StackPanel Grid.Row="18" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Label Style="{StaticResource MyLabelSludgeDisposalPumpUserSpecifiedName}" Content="" />
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownSludgeDisposalPumpUserSpecified}" Minimum="0" Maximum="1500" Interval="10"
                                                Value="{Binding SludgeDisposalPumpFlowUserSpecified, Mode=TwoWay}"
                                                ToolTip="min = 0, max = 1500"/>
                                    <Label Style="{StaticResource MyLabelSludgeDisposalPumpUserSpecifiedUnits}" Content="gpm" />
                                </StackPanel>

                            </Grid>

                        </ScrollViewer>
                    </Expander>

                    <Expander Style="{StaticResource MyExpanderFoundation}">
                        <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="80">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition></ColumnDefinition>
                                    <ColumnDefinition></ColumnDefinition>
                                </Grid.ColumnDefinitions>

                                <Grid.RowDefinitions>
                                    <RowDefinition></RowDefinition>
                                    <RowDefinition></RowDefinition>
                                </Grid.RowDefinitions>

                                <Grid.Resources>
                                    <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                                </Grid.Resources>

                                <Label Grid.Row="0" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Concrete and Material Placement" />
                                <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="800" Interval="25" StringFormat="C2" 
                                                            Value="{Binding FoundationConcreteMaterialAndPlacementCost, Mode=TwoWay}"
                                                            ToolTip="min = 0, max = 800"/>
                                    <Label Style="{StaticResource MyLabelPropertyUnits}">
                                        <Run Typography.Variants="Superscript">$/yd&#x00B3;</Run>
                                    </Label>
                                </StackPanel>

                                <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Site Soils Load Bearing" />
                                <Separator Grid.Row="1" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                                <!--  -->
                                <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                    <Controls:DropDownButton 
                                        VerticalContentAlignment="Center"
                                        Width="150"
                                        Margin="4"
                                        Content="{Binding FoundationSiteSoilLoadBearingName}"
                                        ItemsSource="{Binding FoundationSiteSoils}">
                                        <Controls:DropDownButton.Resources>
                                            <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                        </Controls:DropDownButton.Resources>
                                        <Controls:DropDownButton.ItemContainerStyle>
                                            <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                                <Setter Property="Header" Value="{Binding Name}"/>
                                                <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetFoundationSiteSoilCommand}"/>
                                                <Setter Property="CommandParameter" Value="{Binding }"/>
                                            </Style>
                                        </Controls:DropDownButton.ItemContainerStyle>
                                    </Controls:DropDownButton>
                                    <Label Style="{StaticResource MyLabelPropertyUnits}">
                                        <Run Typography.Variants="Superscript">lbs/ft&#x00B2;</Run>
                                    </Label>
                                </StackPanel>


 

                            </Grid>

                        </ScrollViewer>
                    </Expander>
                </StackPanel>

                <!-- Conveyance Pipeline (HDPE) -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="Potion" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Sludge Disposal Pipeline (HDPE)" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Sludge Disposal Pipeline (HDPE)" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandSludgeDisposalPipeline}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <!-- Note: added a Margin to the Grid to match the ScrollViewer style for each section -->
                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" Height="270" HorizontalScrollBarVisibility="Auto" >
                    <Grid Margin="0,0,0,10"  >
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition ></ColumnDefinition>
                            <ColumnDefinition ></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Label Grid.Row="0" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Nominal Pipe Outside Diameter" />
                        <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:DropDownButton 
                                        x:Name="dropDownNominalPipeOutsideDiameter"
                                        VerticalContentAlignment="Center"
                                        Width="80"
                                        Margin="4"
                                        Content="{Binding NominalPipeOutsideDiameterInchesName}"
                                        ItemsSource="{Binding NominalPipeOutsideDiameterInchesList}">
                                <Controls:DropDownButton.Resources>
                                    <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                </Controls:DropDownButton.Resources>
                                <Controls:DropDownButton.ItemContainerStyle>
                                    <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                        <Setter Property="Header" Value="{Binding Name}"/>
                                        <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetNominalOutsideDiameterCommand}"/>
                                        <Setter Property="CommandParameter" Value="{Binding }"/>
                                    </Style>
                                </Controls:DropDownButton.ItemContainerStyle>
                            </Controls:DropDownButton>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="in" />
                        </StackPanel>

                        <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Estimated Iron Pipe Size Standard Diameter Ratio" Width="350" />
                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:DropDownButton 
                                        x:Name="dropDownEstimatedIronPipeSizeStandardDiameterRatioNumber"
                                        VerticalContentAlignment="Center"
                                        Width="80"
                                        Margin="4"
                                        Content="{Binding EstimatedIronPipeSizeStandardDiameterRatioNumberName}"
                                        ItemsSource="{Binding EstimatedIronPipeSizeStandardDiameterRatioNumberList}">
                                <Controls:DropDownButton.Resources>
                                    <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                </Controls:DropDownButton.Resources>
                                <Controls:DropDownButton.ItemContainerStyle>
                                    <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                        <Setter Property="Header" Value="{Binding Name}"/>
                                        <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetEstimatedIronPipeSizeStandardDiameterRatioNumberCommand}"/>
                                        <Setter Property="CommandParameter" Value="{Binding }"/>
                                    </Style>
                                </Controls:DropDownButton.ItemContainerStyle>
                            </Controls:DropDownButton>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="SDR" />
                        </StackPanel>

                        <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Total Static Head" />
                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000" Interval="5"
                                                    Value="{Binding TotalStaticHead, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1000"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="ft" />
                        </StackPanel>

                        <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Pipeline Length" />
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="25000" Interval="100"
                                                    Value="{Binding PipelineLength, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 25000"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="ft" />
                        </StackPanel>

                        <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Incidental Head Losses" />
                        <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="1" Maximum="100" Interval="1"
                                                    Value="{Binding IncidentalHeadLosses, Mode=TwoWay}"
                                                    ToolTip="min = 1, max = 100"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="%" />
                        </StackPanel>

                        <Label Grid.Row="5" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Excavation Unit Cost" />
                        <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="100" Interval="0.5" StringFormat="C2"
                                                    Value="{Binding ExcavationUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 100"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelPropertyUnits}">
                                <Run Typography.Variants="Superscript">$/yd&#x00B3;</Run>
                            </Label>
                        </StackPanel>

                        <Label Grid.Row="6" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Backfill and Compaction Unit Cost" />
                        <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="100" Interval="0.5" StringFormat="C2"
                                                    Value="{Binding BackfillAndCompactionUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 100"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelPropertyUnits}">
                                <Run Typography.Variants="Superscript">$/yd&#x00B3;</Run>
                            </Label>
                        </StackPanel>

                        <Label Grid.Row="7" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Pipe Bedding Thickness" />
                        <StackPanel Grid.Row="7" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="2.5" Interval="0.1"
                                                    Value="{Binding PipeBeddingAggregateThickness, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 2.5"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="ft" />
                        </StackPanel>

                        <Label Grid.Row="8" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Aggregate Unit Cost" />
                        <StackPanel Grid.Row="8" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="100" Interval="1" StringFormat="C2"
                                                    Value="{Binding AggregateUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 100"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="$/ton" />
                        </StackPanel>

                        <CheckBox x:Name="checkBoxAirVacuumReleaseAssemblies" Grid.Row="9" Grid.Column="0" Margin="5" FontSize="14" Content="Air/Vacuum Release Assemblies "
                                          IsChecked="{Binding IsAirVacuumReleaseAssemblies, Mode=TwoWay}"/>
                        <Separator Grid.Row="9" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <Label Grid.Row="10" Grid.Column="0" Style="{StaticResource MyLabelAirVacuumReleaseAssembliesQuantityName}" Content="Quantity" Margin="50,2,2,2"  />
                        <StackPanel Grid.Row="10" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAirVacuumReleaseAssembliesQuantity}" Minimum="0" Maximum="10" Interval="1"
                                                    Value="{Binding AirVacuumReleaseAssembliesQuantity, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 10"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelAirVacuumReleaseAssembliesQuantityUnits}" Content="set" />
                        </StackPanel>

                        <Label Grid.Row="11" Grid.Column="0" Style="{StaticResource MyLabelAirVacuumReleaseAssembliesUnitCostName}" Content="Unit Cost" Margin="50,2,2,2"  />
                        <StackPanel Grid.Row="11" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAirVacuumReleaseAssembliesUnitCost}" Minimum="0" Maximum="20000" Interval="100" StringFormat="C2"
                                                    Value="{Binding AirVacuumReleaseAssembliesUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 20000"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelAirVacuumReleaseAssembliesUnitCostUnits}" Content="$/set" />
                        </StackPanel>

                        <CheckBox x:Name="checkBoxPigLauncherReceiverAssemblies" Grid.Row="12" Grid.Column="0" Margin="5" FontSize="14" Content="Pig Launchers/Receivers Assembllies"
                                          IsChecked="{Binding IsPigLaunchersReceiversAssemblies, Mode=TwoWay}"/>
                        <Separator Grid.Row="12" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <Label Grid.Row="13" Grid.Column="0" Style="{StaticResource MyLabelPigLauncherReceiverAssembliesQuantityName}" Content="Quantity" Margin="50,2,2,2"  />
                        <StackPanel Grid.Row="13" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownPigLauncherReceiverAssembliesQuantity}" Minimum="0" Maximum="10" Interval="1"
                                                    Value="{Binding PigLaunchersReceiversAssembliesQuantity, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 10"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelPigLauncherReceiverAssembliesQuantityUnits}" Content="set" />
                        </StackPanel>

                        <Label Grid.Row="14" Grid.Column="0" Style="{StaticResource MyLabelPigLauncherReceiverAssembliesUnitCostName}" Content="Unit Cost" Margin="50,2,2,2"  />
                        <StackPanel Grid.Row="14" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownPigLauncherReceiverAssembliesUnitCost}" Minimum="0" Maximum="30000" Interval="100" StringFormat="C2"
                                                    Value="{Binding PigLaunchersReceiversAssembliesUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 30000"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                            <Label Style="{StaticResource MyLabelPigLauncherReceiverAssembliesUnitCostUnits}" Content="$/set" />
                        </StackPanel>
                        
                    </Grid>
                </ScrollViewer>

                <!-- Other Capital Items -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="AppPlus" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Other Capital Items" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Other Capital Items" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandOtherItemsCapital}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorHeader}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" HorizontalScrollBarVisibility="Auto" Height="200">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Description" />
                        <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding OtherCapitalItemDescription1, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Quantity" />
                        <StackPanel Grid.Row="1" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherCapitalItemQuantity1, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Unit Cost" />
                        <StackPanel Grid.Row="2" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherCapitalItemUnitCost1, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Description" />
                        <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding OtherCapitalItemDescription2, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="4" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Quantity" />
                        <StackPanel Grid.Row="4" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherCapitalItemQuantity2, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="5" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Unit Cost" />
                        <StackPanel Grid.Row="5" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherCapitalItemUnitCost2, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Description" />
                        <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding OtherCapitalItemDescription3, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="7" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Quantity" />
                        <StackPanel Grid.Row="7" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherCapitalItemQuantity3, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="8" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Unit Cost" />
                        <StackPanel Grid.Row="8" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherCapitalItemUnitCost3, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="9" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Description" />
                        <TextBox Grid.Row="9" Grid.Column="1" Text="{Binding OtherCapitalItemDescription4, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="10" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Quantity" />
                        <StackPanel Grid.Row="10" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherCapitalItemQuantity4, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="11" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Unit Cost" />
                        <StackPanel Grid.Row="11" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherCapitalItemUnitCost4, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="12" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Description" />
                        <TextBox Grid.Row="12" Grid.Column="1" Text="{Binding OtherCapitalItemDescription5, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="13" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Quantity" />
                        <StackPanel Grid.Row="13" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherCapitalItemQuantity5, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="14" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Unit Cost" />
                        <StackPanel Grid.Row="14" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherCapitalItemUnitCost5, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                    </Grid>
                </ScrollViewer>

                <!-- Annual Cost Input -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="AppPlus" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Annual Cost Input" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Annual Cost Input" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandAnnualCostInput}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorHeader}" />
                </Grid>

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <Label Grid.Row="0" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Electric Unit Cost" />
                    <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                        <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="0.4" Interval="0.01" StringFormat="C2"
                                                    Value="{Binding ElectricUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 0.4"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                        <Label Style="{StaticResource MyLabelPropertyUnits}" Content="$/kWh"/>
                    </StackPanel>

                </Grid>

                <Expander Style="{StaticResource MyExpanderSludgeGeneration}" IsExpanded="{Binding IsExpandedSludgeGeneration, Mode=TwoWay}">
                    <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="150">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>

                            <Label Grid.Row="0" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="% Solids of Thickened Sludge" />
                            <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0.1" Maximum="40" Interval="0.1" 
                                                            Value="{Binding SludgeSolidsPercentage, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0.1, max = 40"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelPropertyUnits}" Content="% wt" />
                            </StackPanel>

                            <Label Grid.Row="1" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Calcite as CaCO3" />
                            <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="100000" Interval="0.5" 
                                                            Value="{Binding Calcite, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 100,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                            </StackPanel>

                            <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Miscellaneous Solids" />
                            <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="100000" Interval="0.5" 
                                                            Value="{Binding MiscellaneousSolids, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 100,000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelPropertyUnits}" Content="mg/L" />
                            </StackPanel>

                            <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelPropertyName}" Content="Miscellaneous Solids Density" />
                            <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="8" Maximum="40" Interval="0.5" 
                                                            Value="{Binding  MiscellaneousSolidsDensity, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 8, max = 40"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelPropertyUnits}" Content="lbs/gal" />
                            </StackPanel>

                        </Grid>

                    </ScrollViewer>
                </Expander>

                <Expander Style="{StaticResource MyExpanderSludgeDisposal}" IsExpanded="{Binding IsExpandedSludgeDisposal, Mode=TwoWay}">
                    <ScrollViewer CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="550">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition></ColumnDefinition>
                                <ColumnDefinition></ColumnDefinition>
                            </Grid.ColumnDefinitions>

                            <Grid.RowDefinitions>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                                <RowDefinition></RowDefinition>
                            </Grid.RowDefinitions>

                            <Grid.Resources>
                                <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                            </Grid.Resources>

                            <RadioButton x:Name="radioButtonSludgeDisposalBorehole" Grid.Row="0" Grid.Column="0" Margin="5" FontSize="14" GroupName="SludgeDisposal" Content="Underground Mine Disposal Borehole" 
                                 IsChecked="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionBorehole}" />

                            <CheckBox x:Name="checkBoxBorehole1" Grid.Row="1" Grid.Column="0" Margin="50,0,0,0" FontSize="14" Content="Borehole #1" 
                                          IsChecked="{Binding IsBorehole1, Mode=TwoWay}" IsEnabled="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionBorehole}"/>

                            <Label Grid.Row="2" Grid.Column="0" Style="{StaticResource MyLabelBorehole1InsideDiameterName}" Content="Inside Diameter (w/ SCH80 PVC Casing)" Margin="50,0,0,0" Width="275"/>
                            <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:DropDownButton 
                                        x:Name="dropDownBorehole1InsideDiameter"
                                        VerticalContentAlignment="Center"
                                        Width="80"
                                        Margin="4"
                                        Content="{Binding Borehole1InsideDiameterName}"
                                        ItemsSource="{Binding Borehole1InsideDiameters}"
                                        Style="{StaticResource MyDropDownBorehole1}">
                                    <Controls:DropDownButton.Resources>
                                        <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                    </Controls:DropDownButton.Resources>
                                    <Controls:DropDownButton.ItemContainerStyle>
                                        <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                            <Setter Property="Header" Value="{Binding Name}"/>
                                            <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetBorehole1InsideDiameterCommand}"/>
                                            <Setter Property="CommandParameter" Value="{Binding }"/>
                                        </Style>
                                    </Controls:DropDownButton.ItemContainerStyle>
                                </Controls:DropDownButton>
                                <Label Style="{StaticResource MyLabelBorehole1InsideDiameterUnits}" Content="in" />
                            </StackPanel>

                            <Label Grid.Row="3" Grid.Column="0" Style="{StaticResource MyLabelBorehole1SizingMultiplierName}" Content="Borehole Sizing Multiplier" Margin="50,0,0,0"/>
                            <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownBorehole1SizingMultiplier}" Minimum="1" Maximum="2" Interval="0.25" 
                                                            Value="{Binding Borehole1SizingMultiplier, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 1, max = 2"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelBorehole1SizingMultiplierUnits}" Content="ft" />
                            </StackPanel>

                            <Label Grid.Row="4" Grid.Column="0" Style="{StaticResource MyLabelBorehole1DrillingDepthName}" Content="Drilling Depth to Mine Void" Margin="50,0,0,0"/>
                            <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownBorehole1DrillingDepth}" Minimum="0" Maximum="500" Interval="1" 
                                                            Value="{Binding Borehole1DrillingDepth, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelBorehole1DrillingDepthUnits}" Content="ft" />
                            </StackPanel>

                            <Label Grid.Row="5" Grid.Column="0" Style="{StaticResource MyLabelBorehole1DrillingCostName}" Content="Drilling Borehole and Casing Installation (SCH 80 PVC) Costs" Margin="50,2,2,2" Width="400"/>
                            <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="200" Interval="1" 
                                                            Value="{Binding Borehole1DrillingAndCastingInstallationUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 200"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" IsEnabled="False"/>
                                <Label Style="{StaticResource MyLabelBorehole1DrillingCostUnits}" Content="$/ft" />
                            </StackPanel>

                            <CheckBox x:Name="checkBoxBorehole2" Grid.Row="6" Grid.Column="0" Margin="50,0,0,0" FontSize="14" Content="Borehole #2"
                                          IsChecked="{Binding IsBorehole2, Mode=TwoWay}" IsEnabled="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionBorehole}"/>

                            <Label Grid.Row="7" Grid.Column="0" Style="{StaticResource MyLabelBorehole2InsideDiameterName}" Content="Inside Diameter (w/ SCH80 PVC Casing)" Margin="50,0,0,0" Width="400"/>
                            <StackPanel Grid.Row="7" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:DropDownButton 
                                        x:Name="dropDownBorehole2InsideDiameter"
                                        VerticalContentAlignment="Center"
                                        Width="80"
                                        Margin="4"
                                        Content="{Binding Borehole2InsideDiameterName}"
                                        ItemsSource="{Binding Borehole2InsideDiameters}"
                                        Style="{StaticResource MyDropDownBorehole2}">
                                    <Controls:DropDownButton.Resources>
                                        <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                    </Controls:DropDownButton.Resources>
                                    <Controls:DropDownButton.ItemContainerStyle>
                                        <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                            <Setter Property="Header" Value="{Binding Name}"/>
                                            <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetBorehole2InsideDiameterCommand}"/>
                                            <Setter Property="CommandParameter" Value="{Binding }"/>
                                        </Style>
                                    </Controls:DropDownButton.ItemContainerStyle>
                                </Controls:DropDownButton>
                                <Label Style="{StaticResource MyLabelBorehole2InsideDiameterUnits}" Content="in" />
                            </StackPanel>

                            <Label Grid.Row="8" Grid.Column="0" Style="{StaticResource MyLabelBorehole2SizingMultiplierName}" Content="Borehole Sizing Multiplier" Margin="50,0,0,0"/>
                            <StackPanel Grid.Row="8" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownBorehole2SizingMultiplier}" Minimum="1" Maximum="2" Interval="0.25" 
                                                            Value="{Binding Borehole2SizingMultiplier, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 1, max = 2"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelBorehole2SizingMultiplierUnits}" Content="ft" />
                            </StackPanel>

                            <Label Grid.Row="9" Grid.Column="0" Style="{StaticResource MyLabelBorehole2DrillingDepthName}" Content="Drilling Depth to Mine Void" Margin="50,0,0,0"/>
                            <StackPanel Grid.Row="9" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownBorehole2DrillingDepth}" Minimum="0" Maximum="500" Interval="1" 
                                                            Value="{Binding Borehole2DrillingDepth, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelBorehole2DrillingDepthUnits}" Content="ft" />
                            </StackPanel>

                            <Label Grid.Row="10" Grid.Column="0" Style="{StaticResource MyLabelBorehole2DrillingCostName}" Content="Drilling Borehole and Casing Installation (SCH 80 PVC) Costs" Margin="50,2,2,2" Width="400"/>
                            <StackPanel Grid.Row="10" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="200" Interval="1" 
                                                            Value="{Binding Borehole2DrillingAndCastingInstallationUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 200"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" IsEnabled="False"/>
                                <Label Style="{StaticResource MyLabelBorehole2DrillingCostUnits}" Content="$/ft" />
                            </StackPanel>

                            <CheckBox x:Name="checkBoxBorehole3" Grid.Row="11" Grid.Column="0" Margin="50,0,0,0" FontSize="14" Content="Borehole #3"
                                          IsChecked="{Binding IsBorehole3, Mode=TwoWay}" IsEnabled="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionBorehole}"/>

                            <Label Grid.Row="12" Grid.Column="0" Style="{StaticResource MyLabelBorehole3InsideDiameterName}" Content="Inside Diameter (w/ SCH80 PVC Casing)" Margin="50,0,0,0" Width="400"/>
                            <StackPanel Grid.Row="12" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:DropDownButton 
                                        x:Name="dropDownBorehole3InsideDiameter"
                                        VerticalContentAlignment="Center"
                                        Width="80"
                                        Margin="4"
                                        Content="{Binding Borehole3InsideDiameterName}"
                                        ItemsSource="{Binding Borehole3InsideDiameters}"
                                        Style="{StaticResource MyDropDownBorehole3}">
                                    <Controls:DropDownButton.Resources>
                                        <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                    </Controls:DropDownButton.Resources>
                                    <Controls:DropDownButton.ItemContainerStyle>
                                        <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                            <Setter Property="Header" Value="{Binding Name}"/>
                                            <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetBorehole3InsideDiameterCommand}"/>
                                            <Setter Property="CommandParameter" Value="{Binding }"/>
                                        </Style>
                                    </Controls:DropDownButton.ItemContainerStyle>
                                </Controls:DropDownButton>
                                <Label Style="{StaticResource MyLabelBorehole3InsideDiameterUnits}" Content="in" />
                            </StackPanel>

                            <Label Grid.Row="13" Grid.Column="0" Style="{StaticResource MyLabelBorehole3SizingMultiplierName}" Content="Borehole Sizing Multiplier" Margin="50,0,0,0"/>
                            <StackPanel Grid.Row="13" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownBorehole3SizingMultiplier}" Minimum="1" Maximum="2" Interval="0.25" 
                                                            Value="{Binding Borehole3SizingMultiplier, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 1, max = 2"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelBorehole3SizingMultiplierUnits}" Content="ft" />
                            </StackPanel>

                            <Label Grid.Row="14" Grid.Column="0" Style="{StaticResource MyLabelBorehole3DrillingDepthName}" Content="Drilling Depth to Mine Void" Margin="50,0,0,0"/>
                            <StackPanel Grid.Row="14" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownBorehole3DrillingDepth}" Minimum="0" Maximum="500" Interval="1" 
                                                            Value="{Binding Borehole3DrillingDepth, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 0, max = 500"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelBorehole3DrillingDepthUnits}" Content="ft" />
                            </StackPanel>

                            <Label Grid.Row="15" Grid.Column="0" Style="{StaticResource MyLabelBorehole3DrillingCostName}" Content="Drilling Borehole and Casing Installation (SCH 80 PVC) Costs" Margin="50,2,2,2" Width="400"/>
                            <StackPanel Grid.Row="15" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="200" Interval="1" 
                                                            Value="{Binding Borehole3DrillingAndCastingInstallationUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 200"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" IsEnabled="False"/>
                                <Label Style="{StaticResource MyLabelBorehole3DrillingCostUnits}" Content="$/ft" />
                            </StackPanel>


                            <RadioButton x:Name="radioButtonSludgeDisposalGeotube" Grid.Row="16" Grid.Column="0" Margin="5" FontSize="14" GroupName="SludgeDisposalGeotube" Content="Geotube Disposal" 
                                 IsChecked="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionGeotube}" />

                            <Label Grid.Row="17" Grid.Column="0" Style="{StaticResource MyLabelGeotubeFillCapacityName}" Content="Geotube Fill Capacity" Margin="50,0,0,0"/>
                            <StackPanel Grid.Row="17" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownGeotubeFillCapacity}" Minimum="10" Maximum="70" Interval="1" 
                                                            Value="{Binding GeotubeFillCapacity, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 10, max = 70"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelGeotubeFillCapacityUnits}" Content="% vol" />
                            </StackPanel>

                            <Label Grid.Row="18" Grid.Column="0" Style="{StaticResource MyLabelGeotubeDewateredSolidsPercentageName}" Content="Dewatered % Solids" Margin="50,0,0,0"/>
                            <StackPanel Grid.Row="18" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownGeotubeDewateredSolidsPercentage}" Minimum="10" Maximum="70" Interval="1" 
                                                            Value="{Binding DewateredSolidsPercentage, Mode=TwoWay, StringFormat=F2}" 
                                                            ToolTip="min = 10, max = 70"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelGeotubeDewateredSolidsPercentageUnits}" Content="% wt" />
                            </StackPanel>

                            <Label Grid.Row="19" Grid.Column="0" Style="{StaticResource MyLabelGeotubeSizeName}" Content="Geotube Size" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="19" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:DropDownButton 
                                        VerticalContentAlignment="Center"
                                        Width="150"
                                        Margin="4"
                                        Content="{Binding GeotubeSizeName}"
                                        ItemsSource="{Binding Geotubes}"
                                        Style="{StaticResource MyDropDownGeotubeSize}">
                                    <Controls:DropDownButton.Resources>
                                        <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                    </Controls:DropDownButton.Resources>
                                    <Controls:DropDownButton.ItemContainerStyle>
                                        <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                            <Setter Property="Header" Value="{Binding Name}"/>
                                            <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetGeotubeCommand}"/>
                                            <Setter Property="CommandParameter" Value="{Binding }"/>
                                        </Style>
                                    </Controls:DropDownButton.ItemContainerStyle>
                                </Controls:DropDownButton>
                                <Label Style="{StaticResource MyLabelGeotubeSizeUnits}" Content="circ x len" />
                            </StackPanel>

                            <Label Grid.Row="20" Grid.Column="0" Style="{StaticResource MyLabelGeotubeUnitCostName}" Content="Unit Cost" Margin="50,2,2,2"/>
                            <StackPanel Grid.Row="20" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownGeotubeUnitCost}" Minimum="0" Maximum="20000" Interval="1" 
                                                            Value="{Binding GeotubeUnitCost, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 20000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" IsEnabled="False"/>
                                <Label Style="{StaticResource MyLabelGeotubeUnitCostUnits}" Content="$/tube" />
                            </StackPanel>

                            <CheckBox x:Name="checkBoxPolymer" Grid.Row="21" Grid.Column="0" Margin="50,0,0,0" FontSize="14" Content="Polymer for Geotube Flocculation"
                                          IsChecked="{Binding IsPolymer, Mode=TwoWay}" IsEnabled="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionGeotube}"/>

                            <Label Grid.Row="22" Grid.Column="0" Style="{StaticResource MyLabelPolymerTypeName}" Content="Polymer Type" Margin="100,2,2,2"/>
                            <StackPanel Grid.Row="22" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:DropDownButton 
                                        VerticalContentAlignment="Center"
                                        Width="150"
                                        Margin="4"
                                        Content="{Binding PolymerName}"
                                        ItemsSource="{Binding Polymers}"
                                        Style="{StaticResource MyDropDownPolymerType}">
                                    <Controls:DropDownButton.Resources>
                                        <models:BindingProxy x:Key="Proxy" Data="{Binding}" />
                                    </Controls:DropDownButton.Resources>
                                    <Controls:DropDownButton.ItemContainerStyle>
                                        <Style TargetType="MenuItem" BasedOn="{StaticResource {x:Type MenuItem}}">
                                            <Setter Property="Header" Value="{Binding Name}"/>
                                            <Setter Property="Command" Value="{Binding Source={StaticResource Proxy}, Path=Data.SetPolymerCommand}"/>
                                            <Setter Property="CommandParameter" Value="{Binding }"/>
                                        </Style>
                                    </Controls:DropDownButton.ItemContainerStyle>
                                </Controls:DropDownButton>
                                <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                            </StackPanel>

                            <Label Grid.Row="23" Grid.Column="0" Style="{StaticResource MyLabelPolymerUnitCostName}" Content="Polymer Unit Cost" Margin="100,0,0,0"/>
                            <StackPanel Grid.Row="23" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" StringFormat="C2"
                                                    Value="{Binding PolymerUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" IsEnabled="False"/>
                                <Label Style="{StaticResource MyLabelPolymerUnitCostUnits}">
                                    <Run Typography.Variants="Superscript">$/gal</Run>
                                </Label>
                            </StackPanel>

                            <Label Grid.Row="24" Grid.Column="0" Style="{StaticResource MyLabelEmulsionPolymerDensityName}" Content="Emulsion Polymer Density" Margin="100,0,0,0"/>
                            <StackPanel Grid.Row="24" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownEmulsionPolymerDensity}" Minimum="8.4" Maximum="15" Interval="1" 
                                                    Value="{Binding EmulsionPolymerDensity, Mode=TwoWay}"
                                                    ToolTip="min = 8.4, max = 15"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                                <Label Style="{StaticResource MyLabelEmulsionPolymerDensityUnits}" Content="lbs/gal" />
                            </StackPanel>

                            <Label Grid.Row="25" Grid.Column="0" Style="{StaticResource MyLabelPolymerActivePercentageName}" Content="% Active Polymer" Margin="100,0,0,0"/>
                            <StackPanel Grid.Row="25" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="10" Maximum="50" Interval="1" 
                                                    Value="{Binding PolymerActivePercentage, Mode=TwoWay}"
                                                    ToolTip="min = 10, max = 50"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" IsEnabled="False"/>
                                <Label Style="{StaticResource MyLabelPolymerActivePercentageUnits}" Content="% wt" />
                            </StackPanel>

                            <Label Grid.Row="26" Grid.Column="0" Style="{StaticResource MyLabelPolymerSolutionStrengthName}" Content="Polymer Solution Stength" Margin="100,0,0,0"/>
                            <StackPanel Grid.Row="26" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0.01" Maximum="2" Interval="0.01" 
                                                    Value="{Binding PolymerSolutionStrength, Mode=TwoWay}"
                                                    ToolTip="min = 0.01, max = 2"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" IsEnabled="False"/>
                                <Label Style="{StaticResource MyLabelPolymerSolutionStrengthUnits}" Content="% wt" />
                            </StackPanel>

                            <Label Grid.Row="27" Grid.Column="0" Style="{StaticResource MyLabelPolymerTargetDoseName}" Content="Target Polymer Dose" Margin="100,0,0,0"/>
                            <StackPanel Grid.Row="27" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownPolymerTargetDose}" Minimum="1" Maximum="50" Interval="1" 
                                                    Value="{Binding PolymerTargetDose, Mode=TwoWay}"
                                                    ToolTip="min = 1, max = 50"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                                <Label Style="{StaticResource MyLabelPolymerTargetDoseUnits}" Content="% wt" />
                            </StackPanel>

                            <Label Grid.Row="28" Grid.Column="0" Style="{StaticResource MyLabelPolymerPumpPowerName}" Content="Polymer Pump Power" Margin="100,0,0,0"/>
                            <StackPanel Grid.Row="28" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownPolymerPumpPower}" Minimum="10" Maximum="1000" Interval="1" 
                                                    Value="{Binding PolymerPumpPower, Mode=TwoWay}"
                                                    ToolTip="min = 10, max = 1000"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                                <Label Style="{StaticResource MyLabelPolymerPumpPowerUnits}" Content="watts" />
                            </StackPanel>

                            <Label Grid.Row="29" Grid.Column="0" Style="{StaticResource MyLabelGeotubeDisposalDewateredSludgeName}" Content="Disposal of Geotube Dewatered Sludge" Margin="50,0,0,0" Width="400"/>

                            <CheckBox x:Name="checkBoxLandfillTippingFee" Grid.Row="30" Grid.Column="0" Margin="50,0,0,0" FontSize="14" Content="Landfill Tipping Fee"
                                          IsChecked="{Binding IsLandfillTippingFee, Mode=TwoWay}" IsEnabled="{Binding SludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionGeotube}"/>
                            <StackPanel Grid.Row="30" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownGeotubeDisposalLandfillTippingFeeUnitCost}" Minimum="0" Maximum="1000" Interval="0.5" 
                                                            Value="{Binding LandfillTippingFee, Mode=TwoWay, StringFormat=C2}" 
                                                            ToolTip="min = 0, max = 1000"
                                                            Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}"/>
                                <Label Style="{StaticResource MyLabelGeotubeDisposalLandfillTippingFeeUnitCostUnits}" Content="$/ton" />
                            </StackPanel>

                            <Label Grid.Row="31" Grid.Column="0" Style="{StaticResource MyLabelTruckVolumeName}" Content="Truck Volume" Margin="50,0,0,0"/>
                            <StackPanel Grid.Row="31" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownTruckVolume}" Minimum="0" Maximum="50" Interval="0.5" 
                                                    Value="{Binding TruckVolume, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                                <Label Style="{StaticResource MyLabelTruckVolumeUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                                </Label>
                            </StackPanel>

                            <Label Grid.Row="32" Grid.Column="0" Style="{StaticResource MyLabelExcavationHaulDisposeTimeName}" Content="Time to Excavate, Roundtrip Haul and Dispose per Truck Load of Sludge" Margin="50,0,0,0" Width="500"/>
                            <StackPanel Grid.Row="32" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownExcavationHaulDisposeTime}" Minimum="0" Maximum="400" Interval="1" 
                                                    Value="{Binding ExcavationHaulDisposeTime, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 400"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                                <Label Style="{StaticResource MyLabelExcavationHaulDisposeTimeUnits}" Content="min" />
                            </StackPanel>

                            <Label Grid.Row="33" Grid.Column="0" Style="{StaticResource MyLabelExcavatorUnitCostName}" Content="Excavator w/Operator Unit Cost" Margin="50,0,0,0" Width="400"/>
                            <StackPanel Grid.Row="33" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownExcavatorUnitCost}" Minimum="0" Maximum="500" Interval="1" StringFormat="C2"
                                                    Value="{Binding ExcavatorUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 500"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                                <Label Style="{StaticResource MyLabelExcavatorUnitCostUnits}" Content="$/hour" />
                            </StackPanel>

                            <Label Grid.Row="34" Grid.Column="0" Style="{StaticResource MyLabelRoundtripDistanceName}" Content="Roundtrip Distance to Disposal Site" Margin="50,0,0,0" />
                            <StackPanel Grid.Row="34" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownRoundtripDistance}" Minimum="0" Maximum="500" Interval="1" 
                                                    Value="{Binding RoundtripDistance, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 500"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                                <Label Style="{StaticResource MyLabelRoundtripDistanceUnits}" Content="miles" />
                            </StackPanel>

                            <Label Grid.Row="35" Grid.Column="0" Style="{StaticResource MyLabelHaulingTransportationUnitCostName}" Content="Hauling Transportation Cost" Margin="50,0,0,0"/>
                            <StackPanel Grid.Row="35" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                                <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownHaulingTransportationUnitCost}" Minimum="0" Maximum="20" Interval="0.05" StringFormat="C2"
                                                    Value="{Binding HaulingTransportationUnitCost, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 20"
                                                    Background="{Binding IsError, Converter={StaticResource BoolToBrushBackground}}" />
                                <Label Style="{StaticResource MyLabelHaulingTransportationUnitCostUnits}" Content="$/mi" />
                            </StackPanel>

                        </Grid>

                    </ScrollViewer>
                </Expander>

                <!-- Other Annual Items -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="AppPlus" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Other Annual Items" />
                    </StackPanel>
                    <Button Grid.Row="0" Grid.Column="1" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Other Annual Items" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandOtherItemsAnnual}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorHeader}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" HorizontalScrollBarVisibility="Auto" Height="200">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Description" />
                        <TextBox Grid.Row="0" Grid.Column="1" Text="{Binding OtherAnnualItemDescription1, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Quantity" />
                        <StackPanel Grid.Row="1" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherAnnualItemQuantity1, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #1 Unit Cost" />
                        <StackPanel Grid.Row="2" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherAnnualItemUnitCost1, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Description" />
                        <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding OtherAnnualItemDescription2, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="4" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Quantity" />
                        <StackPanel Grid.Row="4" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherAnnualItemQuantity2, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="5" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #2 Unit Cost" />
                        <StackPanel Grid.Row="5" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherAnnualItemUnitCost2, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Description" />
                        <TextBox Grid.Row="6" Grid.Column="1" Text="{Binding OtherAnnualItemDescription3, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="7" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Quantity" />
                        <StackPanel Grid.Row="7" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherAnnualItemQuantity3, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="8" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #3 Unit Cost" />
                        <StackPanel Grid.Row="8" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherAnnualItemUnitCost3, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="9" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Description" />
                        <TextBox Grid.Row="9" Grid.Column="1" Text="{Binding OtherAnnualItemDescription4, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="10" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Quantity" />
                        <StackPanel Grid.Row="10" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherAnnualItemQuantity4, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="11" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #4 Unit Cost" />
                        <StackPanel Grid.Row="11" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherAnnualItemUnitCost4, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                        <TextBlock Grid.Row="12" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Description" />
                        <TextBox Grid.Row="12" Grid.Column="1" Text="{Binding OtherAnnualItemDescription5, Mode=TwoWay}" Controls:TextBoxHelper.Watermark="Enter a description" Width="400" Height="25" MinWidth="250" MinHeight="25" MaxWidth="400" MaxHeight="25" HorizontalAlignment="Left" Margin="2" FontSize="14" BorderThickness="0,0,0,1"/>

                        <TextBlock Grid.Row="13" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Quantity" />
                        <StackPanel Grid.Row="13" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="50" Interval="1" 
                                                    Value="{Binding OtherAnnualItemQuantity5, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="each" />
                        </StackPanel>

                        <TextBlock Grid.Row="14" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Item #5 Unit Cost" />
                        <StackPanel Grid.Row="14" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDown}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding OtherAnnualItemUnitCost5, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <TextBlock  Style="{StaticResource MyTextBlockPropertyUnits}" Text="$/each" />
                        </StackPanel>

                    </Grid>
                </ScrollViewer>

            </StackPanel>
        </ScrollViewer>

        <ScrollViewer Grid.Column="1" MinHeight="700" CanContentScroll="False" >
            <StackPanel Grid.Column="1" Margin="10">
                <!-- Sizing Summary -->
                <Grid Style="{StaticResource MyGridHeader}" >
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="Paper" Style="{StaticResource MyIconPackModernHeaders}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Sizing Summary" />
                    </StackPanel>

                    <TextBlock Grid.Row="0" Grid.Column="1" Style="{StaticResource MyTextBlockHeaderValue}" 
                               Text="{Binding CalcLimestoneWeight, Mode=TwoWay, StringFormat={}Limestone Bed:  {0:F2} tons}"
                               TextWrapping="Wrap"
                               Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                               Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" 
                               HorizontalAlignment="Right"
                               ToolTip="Weight of Limestone Bed"/>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Sizing Summary" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandSizingSummary}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>


                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" CanContentScroll="True" HorizontalScrollBarVisibility="Auto" Height="380" >
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Clarifier Design"/>
                        
                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Clarifier Rate of Rise" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcRateOfRise, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="ft/min"/>
                        </StackPanel>
                        <Separator Grid.Row="1" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Clarifier Diameter" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcClarifierDiameter, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="ft" />
                        </StackPanel>
                        <Separator Grid.Row="2" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                        
                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Clarifier Volume (approx.)" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcClarifierVolume, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">ft&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="3" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="4" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Clarifier Hydraulic Retention Time" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcClarifierRetentionTime, Mode=Twoway, StringFormat=F2}" 
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="hrs" />
                        </StackPanel>
                        <Separator Grid.Row="4" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="5" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Blanket Volume" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="5" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeBlanketVolume, Mode=Twoway, StringFormat=F2}" 
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="gal" />
                        </StackPanel>
                        <Separator Grid.Row="5" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                        
                        <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Blanket Retention Time" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="6" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeBlanketRetentionTime, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="hrs" />
                        </StackPanel>
                        <Separator Grid.Row="6" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="7" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Tank Protective Coating Surface Area" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="7" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcTankProtectiveCoatingSurfaceArea, Mode=Twoway, StringFormat=F2}" 
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">ft&#x00B2;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="7" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="8" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Foundation Area" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="8" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcFoundationArea, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">ft&#x00B2;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="8" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="9" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Foundation Depth" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="9" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcFoundationDepth, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="ft" />
                        </StackPanel>
                        <Separator Grid.Row="9" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="10" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Foundation Volume" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="10" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcFoundationVolume, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="10" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="11" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Foundation Load Bearing" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="11" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding FoundationSiteSoilLoadBearingQuantity, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Width="80">
                                <Run Typography.Variants="Superscript">lbs/ft&#x00B2;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="11" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="12" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Foundation Rating" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="12" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding FoundationSiteSoilLoadBearingRating, Mode=Twoway}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="" Width="80" />
                        </StackPanel>
                        <Separator Grid.Row="12" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="13" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Foundation Multiplier" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="13" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding FoundationSiteSoilLoadBearingMultiplier, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="" Width="80" />
                        </StackPanel>
                        <Separator Grid.Row="13" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="14" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Impeller Motor" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="14" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcImpellerMotorPower, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="HP"/>
                        </StackPanel>
                        <Separator Grid.Row="14" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="15" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="High Density Sludge Recirculation Pump"/>
                        
                        <TextBlock Grid.Row="16" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Flow Rate" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="16" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeRecirculationPumpFlowRate, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="gpm" />
                        </StackPanel>
                        <Separator Grid.Row="16" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="17" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pump Power" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="17" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeRecirculationPumpPower, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="HP" />
                        </StackPanel>
                        <Separator Grid.Row="17" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="18" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Disposal Pump"/>

                        <TextBlock Grid.Row="19" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Flow Rate" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="19" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeDisposalPumpFlowRate, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="gpm"/>
                        </StackPanel>
                        <Separator Grid.Row="19" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="20" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pump Power" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="20" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeDisposalPumpPower, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="HP" />
                        </StackPanel>
                        <Separator Grid.Row="20" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="21" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pumping Time (estimated)" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="21" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeDisposalPumpTimeHoursPerDay, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="hrs/day" />
                        </StackPanel>
                        <Separator Grid.Row="21" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="22" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Characteristics"/>

                        <TextBlock Grid.Row="23" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Thickened Sludge" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="23" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeThickened, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="lbs/gal"/>
                        </StackPanel>
                        <Separator Grid.Row="23" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="24" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Specific Gravity" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="24" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeSpecificGravity, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="S.G."/>
                        </StackPanel>
                        <Separator Grid.Row="24" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="25" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Volume Solids / Volume Sludge" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="25" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeVolumeSolidsPercentage, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="% vol" />
                        </StackPanel>
                        <Separator Grid.Row="25" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="26" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Typical Sludge Production Pounds Per Minute" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="26" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeProductionPoundsPerMin, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="lbs/min" />
                        </StackPanel>
                        <Separator Grid.Row="26" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="27" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Typical Sludge Production Pounds Per Day" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="27" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeProductionPoundsPerDay, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="lbs/day" />
                        </StackPanel>
                        <Separator Grid.Row="27" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="28" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Typical Sludge Production Gallons Per Minute" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="28" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeProductionGallonsPerMin, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="gal/min" />
                        </StackPanel>
                        <Separator Grid.Row="28" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="29" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Typical Sludge Production Gallons Per Day" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="29" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeProductionGallonsPerDay, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="gal/day" />
                        </StackPanel>
                        <Separator Grid.Row="29" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="30" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Typical Sludge Production Gallons Per Year" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="30" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcSludgeProductionGallonsPerYear, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="gal/yr" />
                        </StackPanel>
                        <Separator Grid.Row="30" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="31" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Disposal Pipeline"/>

                        <TextBlock Grid.Row="32" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pipe Bedding Aggregate Weight" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="32" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcPipeBeddingAggregateWeight, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="tons" />
                        </StackPanel>
                        <Separator Grid.Row="32" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="33" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pipe Inside Diameter" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="33" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcPipeInsideDiameter, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="inches" />
                        </StackPanel>
                        <Separator Grid.Row="33" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="34" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Dynamic Pipe Losses" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="34" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcPipeDynamicLosses, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="ft" />
                        </StackPanel>
                        <Separator Grid.Row="34" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="35" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Total Dynamic Head" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="35" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcTotalDynamicHead, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="ft" />
                        </StackPanel>
                        <Separator Grid.Row="35" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="36" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Total Dynamic Head Pressure" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="36" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcTotalDynamicHeadPressure, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="psi" />
                        </StackPanel>
                        <Separator Grid.Row="36" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="37" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Total Dynamic Head Pressure Class" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="37" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcPressureClass, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="SDR" />
                        </StackPanel>
                        <Separator Grid.Row="37" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="38" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Fluid Pipe Velocity" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="38" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding CalcPipeFluidVelocity, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="ft/sec" />
                        </StackPanel>
                        <Separator Grid.Row="38" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="39" Grid.Column="0" Style="{StaticResource MyTextBlockGeotubeName}" Text="Geotube Sludge Disposal"/>

                        <TextBlock Grid.Row="40" Grid.Column="0" Style="{StaticResource MyTextBlockGeotubeVolumeName}" Text="Geotube Volume" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="40" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockGeotubeVolumeValue}" Text="{Binding CalcGeotubeVolume, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockGeotubeVolumeUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="40" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="41" Grid.Column="0" Style="{StaticResource MyTextBlockGeotubeFillVolumeName}" Text="Geotube Fill Volume" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="41" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockGeotubeFillVolumeValue}" Text="{Binding CalcGeotubeFillVolume, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockGeotubeFillVolumeUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="41" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="42" Grid.Column="0" Style="{StaticResource MyTextBlockDewateredSludgeName}" Text="Dewatered Sludge" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="42" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockDewateredSludgeValue}" Text="{Binding CalcDewateredSludge, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockDewateredSludgeUnits}" Text="lbs/gal"/>
                        </StackPanel>
                        <Separator Grid.Row="42" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="43" Grid.Column="0" Style="{StaticResource MyTextBlockDewateredSludgeSpecificGravityName}" Text="Dewatered Sludge Specific Gravity" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="43" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockDewateredSludgeSpecificGravityValue}" Text="{Binding CalcDewateredSludgeSpecificGravity, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockDewateredSludgeSpecificGravityUnits}" Text="S.G."/>
                        </StackPanel>
                        <Separator Grid.Row="43" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="44" Grid.Column="0" Style="{StaticResource MyTextBlockDewateredSludgeGenerationRateCubicYardsPerDayName}" Text="Dewatered Sludge Generation Rate" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="44" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockDewateredSludgeGenerationRateCubicYardsPerDayValue}" Text="{Binding CalcDewateredSludgeGenerationRateCubicYardsPerDay, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockDewateredSludgeGenerationRateCubicYardsPerDayUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;/day</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="44" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="45" Grid.Column="0" Style="{StaticResource MyTextBlockDewateredSludgeGenerationRateCubicYardsPerYearName}" Text="Dewatered Sludge Generation Rate" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="45" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockDewateredSludgeGenerationRateCubicYardsPerYearValue}" Text="{Binding CalcDewateredSludgeGenerationRateCubicYardsPerYear, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockDewateredSludgeGenerationRateCubicYardsPerYearUnits}">
                                    <Run Typography.Variants="Superscript">yd&#x00B3;/year</Run>
                            </TextBlock>
                        </StackPanel>
                        <Separator Grid.Row="45" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="46" Grid.Column="0" Style="{StaticResource MyTextBlockGeotubeFillTimeName}" Text="Geotube Fill Time" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="46" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockGeotubeFillTimeValue}" Text="{Binding CalcGeotubeFillTime, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockGeotubeFillTimeUnits}" Text="days" />
                        </StackPanel>
                        <Separator Grid.Row="46" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="47" Grid.Column="0" Style="{StaticResource MyTextBlockGeotubeRequiredPerYearName}" Text="Geotubes Required" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="47" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockGeotubeRequiredPerYearValue}" Text="{Binding CalcGeotubeRequiredPerYear, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockGeotubeRequiredPerYearUnits}" Text="each/yr" />
                        </StackPanel>
                        <Separator Grid.Row="47" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="48" Grid.Column="0" Style="{StaticResource MyTextBlockTriaxleLoadsRequiredPerYearName}" Text="# of Triaxle Loads Required" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="48" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockTriaxleLoadsRequiredPerYearValue}" Text="{Binding CalcTriaxleLoadsRequiredPerYear, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockTriaxleLoadsRequiredPerYearUnits}" Text="#/yr" />
                        </StackPanel>
                        <Separator Grid.Row="48" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="49" Grid.Column="0" Style="{StaticResource MyTextBlockPolymerRequirementPoundsPerDayName}" Text="Polymer Requirement" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="49" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPolymerRequirementPoundsPerDayValue}" Text="{Binding CalcPolymerRequirementPoundsPerDay, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPolymerRequirementPoundsPerDayUnits}" Text="lbs/day" />
                        </StackPanel>
                        <Separator Grid.Row="49" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="50" Grid.Column="0" Style="{StaticResource MyTextBlockPolymerRequirementPoundsPerYearName}" Text="Polymer Requirement" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="50" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPolymerRequirementPoundsPerYearValue}" Text="{Binding CalcPolymerRequirementPoundsPerYear, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPolymerRequirementPoundsPerYearUnits}" Text="lbs/yr" />
                        </StackPanel>
                        <Separator Grid.Row="50" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="51" Grid.Column="0" Style="{StaticResource MyTextBlockEmulsionPolymerRequirementGallonsPerYearName}" Text="Emulsion Polymer Requirement" Margin="50,5,0,5" />
                        <StackPanel Grid.Row="51" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockEmulsionPolymerRequirementGallonsPerYearValue}" Text="{Binding CalcEmulsionPolymerRequirementGallonsPerYear, Mode=Twoway, StringFormat=F2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                            <TextBlock Style="{StaticResource MyTextBlockEmulsionPolymerRequirementGallonsPerYearUnits}" Text="gal/yr" />
                        </StackPanel>
                        <Separator Grid.Row="51" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                        
                    </Grid>

                </ScrollViewer>

                <!-- Capital Cost Summary -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="CurrencyDollar" Style="{StaticResource MyIconPackModernHeadersCost}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Capital Cost" />
                    </StackPanel>
                    <TextBlock Grid.Row="0" Grid.Column="1" Style="{StaticResource MyTextBlockHeaderValue}" Text="{Binding CalcCapitalCostTotal, Mode=TwoWay, StringFormat=C2}" 
                               Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                               Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" 
                               HorizontalAlignment="Right"
                               ToolTip="Total Capital Cost"/>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Capital Cost" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandCapitalCost}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" HorizontalScrollBarVisibility="Auto" Height="200" >
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                        </Grid.Resources>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Clarifier Equipment"/>
                        <StackPanel Grid.Row="0" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcClarifierEquipmentCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Tank" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="1" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcClarifierTankCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="1" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Internals (Center Well, Rake/Drive System)" Margin="50,0,0,0" />
                        <StackPanel Grid.Row="2" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding  CalcClarifierInternalsCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="2" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Overflow Weir" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="3" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcOverflowWeirCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="3" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="4" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Catwalk" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="4" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcCatwalkCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="4" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="5" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Density Current Baffle" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="5" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcDensityCurrentBaffleCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="5" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Tank Protective Coating" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="6" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcTankProtectiveCoatingCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="6" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="7" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Recirculation Pump" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="7" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcSludgeRecirculationPumpCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="7" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="8" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Disposal Pump" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="8" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcSludgeDisposalPumpCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="8" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="9" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Disposal Pump Concrete Pad" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="9" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcSludgeDisposalPumpConcretePadCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="9" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="10" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Foundation"/>
                        <StackPanel Grid.Row="10" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcFoundationCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="10" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="11" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Installation"/>
                        <StackPanel Grid.Row="11" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcInstallationCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" />
                        </StackPanel>
                        <Separator Grid.Row="11" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <RadioButton x:Name="radioButtonCapitalCostInstallationCostMultiplier" Grid.Row="12" Grid.Column="0" Margin="50,0,0,0" FontSize="14" GroupName="CapitalCostInstallationCostMultiplier" Content="Cost Multiplier"  
                                 IsChecked="{Binding CapitalCostSystemInstallOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionCostMultiplier}" />

                        <StackPanel Grid.Row="12" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownCapitalCostInstallationCostMultiplier}" Minimum="0" Maximum="50" Interval="0.01"  
                                                    Value="{Binding CapitalCostSystemInstallationMultiplier, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <Label Style="{StaticResource MyLabelCapitalCostInstallationCostMultiplierUnits}" Content="%" />
                        </StackPanel>

                        <RadioButton x:Name="radioButtonCapitalCostInstallationCostUserSpecified" Grid.Row="13" Grid.Column="0" Margin="50,0,0,0" FontSize="14" GroupName="CapitalCostInstallationCostMultiplier" Content="User Specified"  
                                 IsChecked="{Binding CapitalCostSystemInstallOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionUserSpecified}" />

                        <StackPanel Grid.Row="13" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownCapitalCostInstallationCostUserSpecified}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding CapitalCostSystemInstallationUserSpecified, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <Label Style="{StaticResource MyLabelCapitalCostInstallationCostUserSpecifiedUnits}" Content="" />
                        </StackPanel>

                        <TextBlock Grid.Row="14" Grid.Column="0" Style="{StaticResource MyTextBlockSludgeDisposalBoreholeCostName}" Text="Sludge Disposal Borehole"/>
                        <StackPanel Grid.Row="14" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockSludgeDisposalBoreholeCostValue}" Text="{Binding CalcSludgeDisposalBoreholeCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" />
                        </StackPanel>
                        <Separator Grid.Row="14" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="15" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Sludge Disposal Pipeline" />
                        <StackPanel Grid.Row="15" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcSludgeDisposalPipelineCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" />
                        </StackPanel>
                        <Separator Grid.Row="15" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="16" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Excavation" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="16" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcExcavationCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="16" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="17" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Backfill and Compaction" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="17" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcBackfillAndCompactionCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="17" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="18" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pipe Bedding Aggregate" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="18" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcPipeBeddingAggregateCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="18" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="19" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pipe and Shipping" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="19" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcPipeCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="19" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="20" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pipe Fusion and Installation" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="20" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcPipeFusionAndInstallationCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="20" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="21" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Air/Vacuum Release Assemblies" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="21" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcAirVacuumReleaseAssembiesCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="21" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="22" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Pig Launcher/Receiver Assemblies" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="22" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcPigLaunchersReceiversAssembiesCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="22" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="23" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Other Items"/>
                        <StackPanel Grid.Row="23" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcOtherCapitalItemsCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="23" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                    </Grid>
                </ScrollViewer>

                <!-- Annual Cost Summary -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="CurrencyDollar" Style="{StaticResource MyIconPackModernHeadersCost}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Annual Cost" />
                    </StackPanel>
                    <TextBlock Grid.Row="0" Grid.Column="1" Style="{StaticResource MyTextBlockHeaderValue}" Text="{Binding CalcAnnualCost, Mode=TwoWay, StringFormat=C2}" 
                               Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                               Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" 
                               HorizontalAlignment="Right"
                               ToolTip="Total Annual Cost"/>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Annual Cost" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandAnnualCost}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}" HorizontalScrollBarVisibility="Auto" Height="360">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                        </Grid.Resources>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Operation and Maintenence" />
                        <StackPanel Grid.Row="0" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcAnnualCostOperationAndMaintenance, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <RadioButton x:Name="radioButtonAnnualCostOperationAndMaintanenceMultiplier" Grid.Row="1" Grid.Column="0" Margin="50,0,0,0" FontSize="14" GroupName="AnnualCostOperationAndMaintanence" Content="Percentage of Capital Cost"  
                                 IsChecked="{Binding AnnualCostOperationAndMaintenanceOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostMultiplier}" />

                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAnnualCostOperationAndMaintanenceMultiplier}" Minimum="0" Maximum="50" Interval="0.01"  
                                                    Value="{Binding AnnualCostOperationAndMaintenanceMultiplier, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 50"/>
                            <Label Style="{StaticResource MyLabelAnnualCostOperationAndMaintanenceMultiplierUnits}" Content="%" />
                        </StackPanel>

                        <RadioButton x:Name="radioButtonAnnualCostOperationAndMaintanenceUserSpecified" Grid.Row="2" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="AnnualCostOperationAndMaintanence" Content="User-Specified"  
                                 IsChecked="{Binding AnnualCostOperationAndMaintenanceOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostFlatFee}" />

                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAnnualCostOperationAndMaintanenceUserSpecified}" Minimum="0" Maximum="1000000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding AnnualCostOperationAndMaintenanceUserSpecified, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 1,000,000"/>
                            <Label Style="{StaticResource MyLabelAnnualCostOperationAndMaintanenceUserSpecifiedUnits}" Content="" />
                        </StackPanel>

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Electric" />
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcAnnualCostElectric, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="3" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <RadioButton x:Name="radioButtonAnnualCostElectricEstimate" Grid.Row="4" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="AnnualCostElectric" Content="Estimate"  
                                 IsChecked="{Binding AnnualCostElectricOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostEstimated}" />

                        <StackPanel Grid.Row="4" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Label Style="{StaticResource MyLabelPropertyValue}" Content="{Binding CalcAnnualCostElectricEstimated, Mode=TwoWay}" ContentStringFormat="C2"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"
                                       FontSize="12" Width="120" />
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                        </StackPanel>

                        <TextBlock Grid.Row="5" Grid.Column="0" Style="{StaticResource MyTextBlockAnnualCostElectricName}" Text="Clarifier" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="5" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockAnnualCostElectricValueCosts}" Text="{Binding CalcClarifierElectricCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="5" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="6" Grid.Column="0" Style="{StaticResource MyTextBlockAnnualCostElectricName}" Text="Impeller Motor" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="6" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockAnnualCostElectricValueCosts}" Text="{Binding CalcImpellerMotorElectricCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="6" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="7" Grid.Column="0" Style="{StaticResource MyTextBlockAnnualCostElectricName}" Text="Sludge Recirculation Pump" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="7" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockAnnualCostElectricValueCosts}" Text="{Binding CalcSludgeRecirculationPumpElectricCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="7" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="8" Grid.Column="0" Style="{StaticResource MyTextBlockAnnualCostElectricName}" Text="Sludge Disposal Pump" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="8" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockAnnualCostElectricValueCosts}" Text="{Binding CalcSludgeDisposalPumpElectricCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="8" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="9" Grid.Column="0" Style="{StaticResource MyTextBlockAnnualCostElectricName}" Text="Polymer Pump" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="9" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockAnnualCostElectricValueCosts}" Text="{Binding CalcPolymerPumpElectricCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="9" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                        
                        <RadioButton x:Name="radioButtonAnnualCostElectricUserSpecified" Grid.Row="10" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="AnnualCostElectric" Content="User-Specified"  
                                 IsChecked="{Binding AnnualCostElectricOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostUserSpecified}" />

                        <StackPanel Grid.Row="10" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAnnualCostElectricUserSpecified}" Minimum="0" Maximum="500000" Interval="1000"
                                                Value="{Binding AnnualCostElectricUserSpecified, Mode=TwoWay, StringFormat=C2}"
                                                ToolTip="min = 0, max = 500,000"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="" />
                        </StackPanel>

                        <TextBlock Grid.Row="11" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Geotube Sludge Disposal" />
                        <StackPanel Grid.Row="11" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcAnnualCostGeotubeSludgeDisposal, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="11" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <RadioButton x:Name="radioButtonAnnualCostGeotubeSludgeDisposalEstimate" Grid.Row="12" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="AnnualCostGeotubeSludgeDisposalOptions" Content="Estimated Disposal"  
                                 IsChecked="{Binding AnnualCostGeotubeSludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostEstimated}" />

                        <StackPanel Grid.Row="12" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Label Style="{StaticResource MyLabelPropertyValue}" Content="{Binding CalcAnnualCostGeotubeSludgeDisposalEstimate, Mode=TwoWay}" ContentStringFormat="C2"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"
                                       FontSize="12" Width="120"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                        </StackPanel>

                        <TextBlock Grid.Row="13" Grid.Column="0" Style="{StaticResource MyTextBlockAnnualCostGeotubeName}" Text="Geotubes" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="13" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockAnnualCostGeotubeValueCosts}" Text="{Binding CalcGeotubeCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="13" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="14" Grid.Column="0" Style="{StaticResource MyTextBlockAnnualCostGeotubeName}" Text="Disposal" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="14" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockAnnualCostGeotubeValueCosts}" Text="{Binding CalcGeotubeDisposalCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="14" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="15" Grid.Column="0" Style="{StaticResource MyTextBlockAnnualCostGeotubeName}" Text="Polymer" Margin="50,0,0,0"/>
                        <StackPanel Grid.Row="15" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockAnnualCostGeotubeValueCosts}" Text="{Binding CalcGeotubePolymerCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="15" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                        
                        <RadioButton x:Name="radioButtonAnnualCostGeotubeSludgeDisposalUserSpecified" Grid.Row="16" Grid.Column="0" Margin="50,5,5,5" FontSize="14" GroupName="AnnualCostGeotubeSludgeDisposalOptions" Content="User-Specified"  
                                 IsChecked="{Binding AnnualCostGeotubeSludgeDisposalOptionsProperty, Mode=TwoWay, Converter={StaticResource RadioButtonCheckedConverter}, ConverterParameter=OptionAnnualCostUserSpecified}" />

                        <StackPanel Grid.Row="16" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <Controls:NumericUpDown Style="{StaticResource MyNumericUpDownAnnualCostGeotubeUserSpecified}" Minimum="0" Maximum="500000" Interval="1000" StringFormat="C2" 
                                                    Value="{Binding AnnualCostGeotubeSludgeDisposalUserSpecified, Mode=TwoWay}"
                                                    ToolTip="min = 0, max = 500,000"/>
                            <Label Style="{StaticResource MyLabelPropertyUnits}" Content="" />
                        </StackPanel>

                        <TextBlock Grid.Row="17" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Other Items" />
                        <StackPanel Grid.Row="17" Grid.Column="2" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" Text="{Binding CalcOtherAnnualItemsCost, Mode=TwoWay, StringFormat=C2}"
                                       Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                       Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}"/>
                        </StackPanel>
                        <Separator Grid.Row="17" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />
                    </Grid>
                </ScrollViewer>

                <!-- Recapitalization Cost Summary -->
                <Grid Style="{StaticResource MyGridHeader}">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition ></ColumnDefinition>
                        <ColumnDefinition Width=".1*"></ColumnDefinition>
                    </Grid.ColumnDefinitions>

                    <Grid.RowDefinitions>
                        <RowDefinition></RowDefinition>
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                        <iconPacks:PackIconModern Kind="CurrencyDollar" Style="{StaticResource MyIconPackModernHeadersCost}" />
                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockHeader}" Text="Net Present Value" ToolTip="Net Present Value of Replacement and Annual Costs" />
                    </StackPanel>
                    <TextBlock Grid.Row="0" Grid.Column="1" Style="{StaticResource MyTextBlockHeaderValue}" 
                               Text="{Binding CalcRecapitalizationCostTotal, Mode=TwoWay, StringFormat=C2}" 
                               Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                               Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" 
                               HorizontalAlignment="Right"
                               ToolTip="Total Net Present Value of Replacement and Annual Costs"/>
                    <Button Grid.Row="0" Grid.Column="2" Style="{StaticResource MyButtonSectionInformation}" ToolTip="About Net Present Value of Replacement and Annual Costs" 
                                Content="{iconPacks:Modern InformationCircle, Width=12, Height=12}"  
                                Command="{Binding ShowMessageDialogCommandRecapitalizationCost}"/>
                    <Separator Grid.Row="0" Grid.ColumnSpan="3" Style="{StaticResource MySeparatorHeader}" 
                               Background="{Binding IsError, Converter={StaticResource BoolToBrushSeparater}}" />
                </Grid>

                <ScrollViewer Style="{StaticResource MyScrollViewerForEachSection}"  >
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition></ColumnDefinition>
                            <ColumnDefinition></ColumnDefinition>
                        </Grid.ColumnDefinitions>

                        <Grid.RowDefinitions>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>
                            <RowDefinition></RowDefinition>

                        </Grid.RowDefinitions>

                        <Grid.Resources>
                            <converters:RadioButtonCheckedConverter x:Key="RadioButtonCheckedConverter" />
                        </Grid.Resources>

                        <TextBlock Grid.Row="0" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Term of Analysis" />
                        <StackPanel Grid.Row="0" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding RecapitalizationCostCalculationPeriod, Mode=Twoway, StringFormat=F2}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="years" />
                        </StackPanel>
                        <Separator Grid.Row="0" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="1" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Inflation Rate" />
                        <StackPanel Grid.Row="1" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding RecapitalizationCostInflationRate, Mode=Twoway, StringFormat=F2}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="%" />
                        </StackPanel>
                        <Separator Grid.Row="1" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="2" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text="Rate of Return" />
                        <StackPanel Grid.Row="2" Grid.Column="1" Style="{StaticResource MyStackPanel}">
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValue}" Text="{Binding RecapitalizationCostNetRateOfReturn, Mode=Twoway, StringFormat=F2}"/>
                            <TextBlock Style="{StaticResource MyTextBlockPropertyUnits}" Text="%" />
                        </StackPanel>
                        <Separator Grid.Row="2" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text=""></TextBlock>
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" 
                                       Text="{Binding CalcUpdateRecapMaterialCostDefault, Mode=TwoWay, StringFormat=C2}"
                                       Visibility="Hidden"/>
                        </StackPanel>

                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text=""></TextBlock>
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" 
                                       Text="{Binding CalcUpdateRecapMaterialCostTotal, Mode=TwoWay, StringFormat=C2}"
                                       Visibility="Hidden"/>
                        </StackPanel>
                        
                        <TextBlock Grid.Row="3" Grid.Column="0" Style="{StaticResource MyTextBlockPropertyName}" Text=""></TextBlock>
                        <StackPanel Grid.Row="3" Grid.Column="1" Style="{StaticResource MyStackPanel}" >
                            <TextBlock Style="{StaticResource MyTextBlockPropertyValueCosts}" 
                                       Text="{Binding CalcUpdateRecapClarifierTankInternalsLifeCycle, Mode=TwoWay, StringFormat=C2}"
                                       Visibility="Hidden"/>
                        </StackPanel>
                        
                        <DataGrid Grid.Row="4" Grid.ColumnSpan="2" ItemsSource="{Binding RecapMaterials, Mode=TwoWay}" 
                                  AutoGenerateColumns="False" CanUserAddRows="True" CanUserDeleteRows="False" SelectionUnit="Cell"
                                  Foreground="{Binding IsError, Converter={StaticResource BoolToBrushText}}"
                                  Visibility="{Binding IsMajorError, Converter={StaticResource BoolToVisibility}}" >
                            <DataGrid.Columns>
                                <DataGridCheckBoxColumn 
                                        ElementStyle="{DynamicResource MetroDataGridCheckBox}"
                                        EditingElementStyle="{DynamicResource MetroDataGridCheckBox}"
                                        Header="Select"
                                        Binding="{Binding IsSelected, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                <DataGridTextColumn Header="Name" Binding="{Binding Name}" />
                                <Controls:DataGridNumericUpDownColumn Header="Life Cycle (yrs)" 
                                                      Binding="{Binding LifeCycle, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                      Minimum="1" 
                                                      Maximum="100">
                                    <Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="LIFE CYCLE (YRS)" ToolTip="min = 1, max = 100" />
                                        </DataTemplate>
                                    </Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                </Controls:DataGridNumericUpDownColumn>
                                <Controls:DataGridNumericUpDownColumn Header="Replacement %"
                                                      Binding="{Binding PercentReplacement, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                      Minimum="0" 
                                                      Maximum="100">
                                    <Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="REPLACEMENT %" ToolTip="min = 0, max = 100" />
                                        </DataTemplate>
                                    </Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                </Controls:DataGridNumericUpDownColumn>
                                <Controls:DataGridNumericUpDownColumn Header="Default Cost"
                                                      Binding="{Binding MaterialCostDefault}"
                                                      StringFormat="C" 
                                                      IsReadOnly="True"
                                                      Foreground="Gray"/>
                                <Controls:DataGridNumericUpDownColumn Header="Custom Cost"
                                                      Binding="{Binding MaterialCostCustom, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                                      StringFormat="C"
                                                      Minimum="0" >
                                    <Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                        <DataTemplate>
                                            <TextBlock Text="CUSTOM COST" ToolTip="min = 0, max = " />
                                        </DataTemplate>
                                    </Controls:DataGridNumericUpDownColumn.HeaderTemplate>
                                </Controls:DataGridNumericUpDownColumn>
                                <DataGridCheckBoxColumn 
                                        ElementStyle="{DynamicResource MetroDataGridCheckBox}"
                                        EditingElementStyle="{DynamicResource MetroDataGridCheckBox}"
                                        Header="Use Custom"
                                        Binding="{Binding UseCustomCost, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                                <Controls:DataGridNumericUpDownColumn Header="Total Cost"
                                                      Binding="{Binding TotalCost}"
                                                      StringFormat="C"
                                                      IsReadOnly="True"/>
                            </DataGrid.Columns>
                        </DataGrid>

                        <Separator Grid.Row="4" Grid.ColumnSpan="2" Style="{StaticResource MySeparatorSummaries}" />

                    </Grid>

                </ScrollViewer>

            </StackPanel>
        </ScrollViewer>

    </Grid>

</Controls:MetroWindow>
